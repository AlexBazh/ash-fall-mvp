const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BuildingTooltip-BUcMjYJ_.js","assets/BuildingTooltip-C9b3GpCK.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function c2(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const se={},Tt=[],Xe=()=>{},En=()=>!1,x0=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),u2=e=>e.startsWith("onUpdate:"),Me=Object.assign,a2=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},kn=Object.prototype.hasOwnProperty,Q=(e,t)=>kn.call(e,t),V=Array.isArray,Bt=e=>L0(e)==="[object Map]",ds=e=>L0(e)==="[object Set]",W=e=>typeof e=="function",pe=e=>typeof e=="string",mt=e=>typeof e=="symbol",ce=e=>e!==null&&typeof e=="object",hs=e=>(ce(e)||W(e))&&W(e.then)&&W(e.catch),ps=Object.prototype.toString,L0=e=>ps.call(e),An=e=>L0(e).slice(8,-1),gs=e=>L0(e)==="[object Object]",f2=e=>pe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ut=c2(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M0=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Pn=/-(\w)/g,Ve=M0(e=>e.replace(Pn,(t,s)=>s?s.toUpperCase():"")),Tn=/\B([A-Z])/g,Et=M0(e=>e.replace(Tn,"-$1").toLowerCase()),S0=M0(e=>e.charAt(0).toUpperCase()+e.slice(1)),$0=M0(e=>e?`on${S0(e)}`:""),pt=(e,t)=>!Object.is(e,t),V0=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Cs=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Bn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let T2;const E0=()=>T2||(T2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ze(e){if(V(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],o=pe(n)?In(n):Ze(n);if(o)for(const r in o)t[r]=o[r]}return t}else if(pe(e)||ce(e))return e}const Rn=/;(?![^(]*\))/g,Hn=/:([^]+)/,Fn=/\/\*[^]*?\*\//g;function In(e){const t={};return e.replace(Fn,"").split(Rn).forEach(s=>{if(s){const n=s.split(Hn);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Re(e){let t="";if(pe(e))t=e;else if(V(e))for(let s=0;s<e.length;s++){const n=Re(e[s]);n&&(t+=n+" ")}else if(ce(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const On="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$n=c2(On);function ms(e){return!!e||e===""}const vs=e=>!!(e&&e.__v_isRef===!0),z=e=>pe(e)?e:e==null?"":V(e)||ce(e)&&(e.toString===ps||!W(e.toString))?vs(e)?z(e.value):JSON.stringify(e,ws,2):String(e),ws=(e,t)=>vs(t)?ws(e,t.value):Bt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,o],r)=>(s[D0(n,r)+" =>"]=o,s),{})}:ds(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>D0(s))}:mt(t)?D0(t):ce(t)&&!V(t)&&!gs(t)?String(t):t,D0=(e,t="")=>{var s;return mt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ye;class ys{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ye,!t&&ye&&(this.index=(ye.scopes||(ye.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ye;try{return ye=this,t()}finally{ye=s}}}on(){++this._on===1&&(this.prevScope=ye,ye=this)}off(){this._on>0&&--this._on===0&&(ye=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function _s(e){return new ys(e)}function bs(){return ye}function Vn(e,t=!1){ye&&ye.cleanups.push(e)}let ie;const Z0=new WeakSet;class xs{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ye&&ye.active&&ye.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Z0.has(this)&&(Z0.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ms(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,B2(this),Ss(this);const t=ie,s=Ue;ie=this,Ue=!0;try{return this.fn()}finally{Es(this),ie=t,Ue=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)p2(t);this.deps=this.depsTail=void 0,B2(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Z0.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){X0(this)&&this.run()}get dirty(){return X0(this)}}let Ls=0,jt,Nt;function Ms(e,t=!1){if(e.flags|=8,t){e.next=Nt,Nt=e;return}e.next=jt,jt=e}function d2(){Ls++}function h2(){if(--Ls>0)return;if(Nt){let t=Nt;for(Nt=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;jt;){let t=jt;for(jt=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Ss(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Es(e){let t,s=e.depsTail,n=s;for(;n;){const o=n.prevDep;n.version===-1?(n===s&&(s=o),p2(n),Dn(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}e.deps=t,e.depsTail=s}function X0(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ks(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ks(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Gt)||(e.globalVersion=Gt,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!X0(e))))return;e.flags|=2;const t=e.dep,s=ie,n=Ue;ie=e,Ue=!0;try{Ss(e);const o=e.fn(e._value);(t.version===0||pt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{ie=s,Ue=n,Es(e),e.flags&=-3}}function p2(e,t=!1){const{dep:s,prevSub:n,nextSub:o}=e;if(n&&(n.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)p2(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Dn(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ue=!0;const As=[];function rt(){As.push(Ue),Ue=!1}function it(){const e=As.pop();Ue=e===void 0?!0:e}function B2(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ie;ie=void 0;try{t()}finally{ie=s}}}let Gt=0;class Zn{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class g2{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ie||!Ue||ie===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ie)s=this.activeLink=new Zn(ie,this),ie.deps?(s.prevDep=ie.depsTail,ie.depsTail.nextDep=s,ie.depsTail=s):ie.deps=ie.depsTail=s,Ps(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=ie.depsTail,s.nextDep=void 0,ie.depsTail.nextDep=s,ie.depsTail=s,ie.deps===s&&(ie.deps=n)}return s}trigger(t){this.version++,Gt++,this.notify(t)}notify(t){d2();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{h2()}}}function Ps(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Ps(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const d0=new WeakMap,Lt=Symbol(""),G0=Symbol(""),Qt=Symbol("");function _e(e,t,s){if(Ue&&ie){let n=d0.get(e);n||d0.set(e,n=new Map);let o=n.get(s);o||(n.set(s,o=new g2),o.map=n,o.key=s),o.track()}}function st(e,t,s,n,o,r){const i=d0.get(e);if(!i){Gt++;return}const l=a=>{a&&a.trigger()};if(d2(),t==="clear")i.forEach(l);else{const a=V(e),f=a&&f2(s);if(a&&s==="length"){const u=Number(n);i.forEach((c,g)=>{(g==="length"||g===Qt||!mt(g)&&g>=u)&&l(c)})}else switch((s!==void 0||i.has(void 0))&&l(i.get(s)),f&&l(i.get(Qt)),t){case"add":a?f&&l(i.get("length")):(l(i.get(Lt)),Bt(e)&&l(i.get(G0)));break;case"delete":a||(l(i.get(Lt)),Bt(e)&&l(i.get(G0)));break;case"set":Bt(e)&&l(i.get(Lt));break}}h2()}function Un(e,t){const s=d0.get(e);return s&&s.get(t)}function kt(e){const t=G(e);return t===e?t:(_e(t,"iterate",Qt),$e(e)?t:t.map(me))}function k0(e){return _e(e=G(e),"iterate",Qt),e}const jn={__proto__:null,[Symbol.iterator](){return U0(this,Symbol.iterator,me)},concat(...e){return kt(this).concat(...e.map(t=>V(t)?kt(t):t))},entries(){return U0(this,"entries",e=>(e[1]=me(e[1]),e))},every(e,t){return et(this,"every",e,t,void 0,arguments)},filter(e,t){return et(this,"filter",e,t,s=>s.map(me),arguments)},find(e,t){return et(this,"find",e,t,me,arguments)},findIndex(e,t){return et(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return et(this,"findLast",e,t,me,arguments)},findLastIndex(e,t){return et(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return et(this,"forEach",e,t,void 0,arguments)},includes(...e){return j0(this,"includes",e)},indexOf(...e){return j0(this,"indexOf",e)},join(e){return kt(this).join(e)},lastIndexOf(...e){return j0(this,"lastIndexOf",e)},map(e,t){return et(this,"map",e,t,void 0,arguments)},pop(){return Vt(this,"pop")},push(...e){return Vt(this,"push",e)},reduce(e,...t){return R2(this,"reduce",e,t)},reduceRight(e,...t){return R2(this,"reduceRight",e,t)},shift(){return Vt(this,"shift")},some(e,t){return et(this,"some",e,t,void 0,arguments)},splice(...e){return Vt(this,"splice",e)},toReversed(){return kt(this).toReversed()},toSorted(e){return kt(this).toSorted(e)},toSpliced(...e){return kt(this).toSpliced(...e)},unshift(...e){return Vt(this,"unshift",e)},values(){return U0(this,"values",me)}};function U0(e,t,s){const n=k0(e),o=n[t]();return n!==e&&!$e(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.value&&(r.value=s(r.value)),r}),o}const Nn=Array.prototype;function et(e,t,s,n,o,r){const i=k0(e),l=i!==e&&!$e(e),a=i[t];if(a!==Nn[t]){const c=a.apply(e,r);return l?me(c):c}let f=s;i!==e&&(l?f=function(c,g){return s.call(this,me(c),g,e)}:s.length>2&&(f=function(c,g){return s.call(this,c,g,e)}));const u=a.call(i,f,n);return l&&o?o(u):u}function R2(e,t,s,n){const o=k0(e);let r=s;return o!==e&&($e(e)?s.length>3&&(r=function(i,l,a){return s.call(this,i,l,a,e)}):r=function(i,l,a){return s.call(this,i,me(l),a,e)}),o[t](r,...n)}function j0(e,t,s){const n=G(e);_e(n,"iterate",Qt);const o=n[t](...s);return(o===-1||o===!1)&&v2(s[0])?(s[0]=G(s[0]),n[t](...s)):o}function Vt(e,t,s=[]){rt(),d2();const n=G(e)[t].apply(e,s);return h2(),it(),n}const Wn=c2("__proto__,__v_isRef,__isVue"),Ts=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(mt));function zn(e){mt(e)||(e=String(e));const t=G(this);return _e(t,"has",e),t.hasOwnProperty(e)}class Bs{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(o?r?so:Is:r?Fs:Hs).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=V(t);if(!o){let a;if(i&&(a=jn[s]))return a;if(s==="hasOwnProperty")return zn}const l=Reflect.get(t,s,fe(t)?t:n);return(mt(s)?Ts.has(s):Wn(s))||(o||_e(t,"get",s),r)?l:fe(l)?i&&f2(s)?l:l.value:ce(l)?o?Os(l):A0(l):l}}class Rs extends Bs{constructor(t=!1){super(!1,t)}set(t,s,n,o){let r=t[s];if(!this._isShallow){const a=gt(r);if(!$e(n)&&!gt(n)&&(r=G(r),n=G(n)),!V(t)&&fe(r)&&!fe(n))return a?!1:(r.value=n,!0)}const i=V(t)&&f2(s)?Number(s)<t.length:Q(t,s),l=Reflect.set(t,s,n,fe(t)?t:o);return t===G(o)&&(i?pt(n,r)&&st(t,"set",s,n):st(t,"add",s,n)),l}deleteProperty(t,s){const n=Q(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&n&&st(t,"delete",s,void 0),o}has(t,s){const n=Reflect.has(t,s);return(!mt(s)||!Ts.has(s))&&_e(t,"has",s),n}ownKeys(t){return _e(t,"iterate",V(t)?"length":Lt),Reflect.ownKeys(t)}}class Kn extends Bs{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const qn=new Rs,Yn=new Kn,Xn=new Rs(!0);const Q0=e=>e,l0=e=>Reflect.getPrototypeOf(e);function Gn(e,t,s){return function(...n){const o=this.__v_raw,r=G(o),i=Bt(r),l=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,f=o[e](...n),u=s?Q0:t?h0:me;return!t&&_e(r,"iterate",a?G0:Lt),{next(){const{value:c,done:g}=f.next();return g?{value:c,done:g}:{value:l?[u(c[0]),u(c[1])]:u(c),done:g}},[Symbol.iterator](){return this}}}}function c0(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Qn(e,t){const s={get(o){const r=this.__v_raw,i=G(r),l=G(o);e||(pt(o,l)&&_e(i,"get",o),_e(i,"get",l));const{has:a}=l0(i),f=t?Q0:e?h0:me;if(a.call(i,o))return f(r.get(o));if(a.call(i,l))return f(r.get(l));r!==i&&r.get(o)},get size(){const o=this.__v_raw;return!e&&_e(G(o),"iterate",Lt),Reflect.get(o,"size",o)},has(o){const r=this.__v_raw,i=G(r),l=G(o);return e||(pt(o,l)&&_e(i,"has",o),_e(i,"has",l)),o===l?r.has(o):r.has(o)||r.has(l)},forEach(o,r){const i=this,l=i.__v_raw,a=G(l),f=t?Q0:e?h0:me;return!e&&_e(a,"iterate",Lt),l.forEach((u,c)=>o.call(r,f(u),f(c),i))}};return Me(s,e?{add:c0("add"),set:c0("set"),delete:c0("delete"),clear:c0("clear")}:{add(o){!t&&!$e(o)&&!gt(o)&&(o=G(o));const r=G(this);return l0(r).has.call(r,o)||(r.add(o),st(r,"add",o,o)),this},set(o,r){!t&&!$e(r)&&!gt(r)&&(r=G(r));const i=G(this),{has:l,get:a}=l0(i);let f=l.call(i,o);f||(o=G(o),f=l.call(i,o));const u=a.call(i,o);return i.set(o,r),f?pt(r,u)&&st(i,"set",o,r):st(i,"add",o,r),this},delete(o){const r=G(this),{has:i,get:l}=l0(r);let a=i.call(r,o);a||(o=G(o),a=i.call(r,o)),l&&l.call(r,o);const f=r.delete(o);return a&&st(r,"delete",o,void 0),f},clear(){const o=G(this),r=o.size!==0,i=o.clear();return r&&st(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Gn(o,e,t)}),s}function C2(e,t){const s=Qn(e,t);return(n,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(Q(s,o)&&o in n?s:n,o,r)}const Jn={get:C2(!1,!1)},eo={get:C2(!1,!0)},to={get:C2(!0,!1)};const Hs=new WeakMap,Fs=new WeakMap,Is=new WeakMap,so=new WeakMap;function no(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oo(e){return e.__v_skip||!Object.isExtensible(e)?0:no(An(e))}function A0(e){return gt(e)?e:m2(e,!1,qn,Jn,Hs)}function ro(e){return m2(e,!1,Xn,eo,Fs)}function Os(e){return m2(e,!0,Yn,to,Is)}function m2(e,t,s,n,o){if(!ce(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=oo(e);if(r===0)return e;const i=o.get(e);if(i)return i;const l=new Proxy(e,r===2?n:s);return o.set(e,l),l}function ot(e){return gt(e)?ot(e.__v_raw):!!(e&&e.__v_isReactive)}function gt(e){return!!(e&&e.__v_isReadonly)}function $e(e){return!!(e&&e.__v_isShallow)}function v2(e){return e?!!e.__v_raw:!1}function G(e){const t=e&&e.__v_raw;return t?G(t):e}function w2(e){return!Q(e,"__v_skip")&&Object.isExtensible(e)&&Cs(e,"__v_skip",!0),e}const me=e=>ce(e)?A0(e):e,h0=e=>ce(e)?Os(e):e;function fe(e){return e?e.__v_isRef===!0:!1}function Ee(e){return io(e,!1)}function io(e,t){return fe(e)?e:new lo(e,t)}class lo{constructor(t,s){this.dep=new g2,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:G(t),this._value=s?t:me(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||$e(t)||gt(t);t=n?t:G(t),pt(t,s)&&(this._rawValue=t,this._value=n?t:me(t),this.dep.trigger())}}function ue(e){return fe(e)?e.value:e}const co={get:(e,t,s)=>t==="__v_raw"?e:ue(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const o=e[t];return fe(o)&&!fe(s)?(o.value=s,!0):Reflect.set(e,t,s,n)}};function $s(e){return ot(e)?e:new Proxy(e,co)}function uo(e){const t=V(e)?new Array(e.length):{};for(const s in e)t[s]=Vs(e,s);return t}class ao{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Un(G(this._object),this._key)}}class fo{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ho(e,t,s){return fe(e)?e:W(e)?new fo(e):ce(e)&&arguments.length>1?Vs(e,t,s):Ee(e)}function Vs(e,t,s){const n=e[t];return fe(n)?n:new ao(e,t,s)}class po{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new g2(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ie!==this)return Ms(this,!0),!0}get value(){const t=this.dep.track();return ks(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function go(e,t,s=!1){let n,o;return W(e)?n=e:(n=e.get,o=e.set),new po(n,o,s)}const u0={},p0=new WeakMap;let bt;function Co(e,t=!1,s=bt){if(s){let n=p0.get(s);n||p0.set(s,n=[]),n.push(e)}}function mo(e,t,s=se){const{immediate:n,deep:o,once:r,scheduler:i,augmentJob:l,call:a}=s,f=R=>o?R:$e(R)||o===!1||o===0?nt(R,1):nt(R);let u,c,g,h,C=!1,m=!1;if(fe(e)?(c=()=>e.value,C=$e(e)):ot(e)?(c=()=>f(e),C=!0):V(e)?(m=!0,C=e.some(R=>ot(R)||$e(R)),c=()=>e.map(R=>{if(fe(R))return R.value;if(ot(R))return f(R);if(W(R))return a?a(R,2):R()})):W(e)?t?c=a?()=>a(e,2):e:c=()=>{if(g){rt();try{g()}finally{it()}}const R=bt;bt=u;try{return a?a(e,3,[h]):e(h)}finally{bt=R}}:c=Xe,t&&o){const R=c,O=o===!0?1/0:o;c=()=>nt(R(),O)}const w=bs(),E=()=>{u.stop(),w&&w.active&&a2(w.effects,u)};if(r&&t){const R=t;t=(...O)=>{R(...O),E()}}let D=m?new Array(e.length).fill(u0):u0;const Z=R=>{if(!(!(u.flags&1)||!u.dirty&&!R))if(t){const O=u.run();if(o||C||(m?O.some((de,X)=>pt(de,D[X])):pt(O,D))){g&&g();const de=bt;bt=u;try{const X=[O,D===u0?void 0:m&&D[0]===u0?[]:D,h];a?a(t,3,X):t(...X),D=O}finally{bt=de}}}else u.run()};return l&&l(Z),u=new xs(c),u.scheduler=i?()=>i(Z,!1):Z,h=R=>Co(R,!1,u),g=u.onStop=()=>{const R=p0.get(u);if(R){if(a)a(R,4);else for(const O of R)O();p0.delete(u)}},t?n?Z(!0):D=u.run():i?i(Z.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function nt(e,t=1/0,s){if(t<=0||!ce(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,fe(e))nt(e.value,t,s);else if(V(e))for(let n=0;n<e.length;n++)nt(e[n],t,s);else if(ds(e)||Bt(e))e.forEach(n=>{nt(n,t,s)});else if(gs(e)){for(const n in e)nt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&nt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function n0(e,t,s,n){try{return n?e(...n):e()}catch(o){P0(o,t,s)}}function Qe(e,t,s,n){if(W(e)){const o=n0(e,t,s,n);return o&&hs(o)&&o.catch(r=>{P0(r,t,s)}),o}if(V(e)){const o=[];for(let r=0;r<e.length;r++)o.push(Qe(e[r],t,s,n));return o}}function P0(e,t,s,n=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||se;if(t){let l=t.parent;const a=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const u=l.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,a,f)===!1)return}l=l.parent}if(r){rt(),n0(r,null,10,[e,a,f]),it();return}}vo(e,s,o,n,i)}function vo(e,t,s,n=!0,o=!1){if(o)throw e;console.error(e)}const xe=[];let qe=-1;const Rt=[];let dt=null,Pt=0;const Ds=Promise.resolve();let g0=null;function Zs(e){const t=g0||Ds;return e?t.then(this?e.bind(this):e):t}function wo(e){let t=qe+1,s=xe.length;for(;t<s;){const n=t+s>>>1,o=xe[n],r=Jt(o);r<e||r===e&&o.flags&2?t=n+1:s=n}return t}function y2(e){if(!(e.flags&1)){const t=Jt(e),s=xe[xe.length-1];!s||!(e.flags&2)&&t>=Jt(s)?xe.push(e):xe.splice(wo(t),0,e),e.flags|=1,Us()}}function Us(){g0||(g0=Ds.then(Ns))}function yo(e){V(e)?Rt.push(...e):dt&&e.id===-1?dt.splice(Pt+1,0,e):e.flags&1||(Rt.push(e),e.flags|=1),Us()}function H2(e,t,s=qe+1){for(;s<xe.length;s++){const n=xe[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;xe.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function js(e){if(Rt.length){const t=[...new Set(Rt)].sort((s,n)=>Jt(s)-Jt(n));if(Rt.length=0,dt){dt.push(...t);return}for(dt=t,Pt=0;Pt<dt.length;Pt++){const s=dt[Pt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}dt=null,Pt=0}}const Jt=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ns(e){try{for(qe=0;qe<xe.length;qe++){const t=xe[qe];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),n0(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;qe<xe.length;qe++){const t=xe[qe];t&&(t.flags&=-2)}qe=-1,xe.length=0,js(),g0=null,(xe.length||Rt.length)&&Ns()}}let ke=null,Ws=null;function C0(e){const t=ke;return ke=e,Ws=e&&e.type.__scopeId||null,t}function _o(e,t=ke,s){if(!t||e._n)return e;const n=(...o)=>{n._d&&N2(-1);const r=C0(t);let i;try{i=e(...o)}finally{C0(r),n._d&&N2(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function bo(e,t){if(ke===null)return e;const s=H0(ke),n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,l,a=se]=t[o];r&&(W(r)&&(r={mounted:r,updated:r}),r.deep&&nt(i),n.push({dir:r,instance:s,value:i,oldValue:void 0,arg:l,modifiers:a}))}return e}function yt(e,t,s,n){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const l=o[i];r&&(l.oldValue=r[i].value);let a=l.dir[n];a&&(rt(),Qe(a,s,8,[e.el,l,e,t]),it())}}const xo=Symbol("_vte"),Lo=e=>e.__isTeleport;function _2(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_2(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zs(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function m0(e,t,s,n,o=!1){if(V(e)){e.forEach((C,m)=>m0(C,t&&(V(t)?t[m]:t),s,n,o));return}if(Wt(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&m0(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?H0(n.component):n.el,i=o?null:r,{i:l,r:a}=e,f=t&&t.r,u=l.refs===se?l.refs={}:l.refs,c=l.setupState,g=G(c),h=c===se?()=>!1:C=>Q(g,C);if(f!=null&&f!==a&&(pe(f)?(u[f]=null,h(f)&&(c[f]=null)):fe(f)&&(f.value=null)),W(a))n0(a,l,12,[i,u]);else{const C=pe(a),m=fe(a);if(C||m){const w=()=>{if(e.f){const E=C?h(a)?c[a]:u[a]:a.value;o?V(E)&&a2(E,r):V(E)?E.includes(r)||E.push(r):C?(u[a]=[r],h(a)&&(c[a]=u[a])):(a.value=[r],e.k&&(u[e.k]=a.value))}else C?(u[a]=i,h(a)&&(c[a]=i)):m&&(a.value=i,e.k&&(u[e.k]=i))};i?(w.id=-1,Be(w,s)):w()}}}E0().requestIdleCallback;E0().cancelIdleCallback;const Wt=e=>!!e.type.__asyncLoader,Ks=e=>e.type.__isKeepAlive;function Mo(e,t){qs(e,"a",t)}function So(e,t){qs(e,"da",t)}function qs(e,t,s=ve){const n=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(T0(t,n,s),s){let o=s.parent;for(;o&&o.parent;)Ks(o.parent.vnode)&&Eo(n,t,s,o),o=o.parent}}function Eo(e,t,s,n){const o=T0(t,e,n,!0);o0(()=>{a2(n[t],o)},s)}function T0(e,t,s=ve,n=!1){if(s){const o=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...i)=>{rt();const l=r0(s),a=Qe(t,s,e,i);return l(),it(),a});return n?o.unshift(r):o.push(r),r}}const lt=e=>(t,s=ve)=>{(!s0||e==="sp")&&T0(e,(...n)=>t(...n),s)},ko=lt("bm"),It=lt("m"),Ao=lt("bu"),Po=lt("u"),To=lt("bum"),o0=lt("um"),Bo=lt("sp"),Ro=lt("rtg"),Ho=lt("rtc");function Fo(e,t=ve){T0("ec",e,t)}const Ys="components",Io="directives",Xs=Symbol.for("v-ndc");function Oo(e){return pe(e)?Gs(Ys,e,!1)||e:e||Xs}function $o(e){return Gs(Io,e)}function Gs(e,t,s=!0,n=!1){const o=ke||ve;if(o){const r=o.type;if(e===Ys){const l=Sr(r,!1);if(l&&(l===t||l===Ve(t)||l===S0(Ve(t))))return r}const i=F2(o[e]||r[e],t)||F2(o.appContext[e],t);return!i&&n?r:i}}function F2(e,t){return e&&(e[t]||e[Ve(t)]||e[S0(Ve(t))])}function Ge(e,t,s,n){let o;const r=s,i=V(e);if(i||pe(e)){const l=i&&ot(e);let a=!1,f=!1;l&&(a=!$e(e),f=gt(e),e=k0(e)),o=new Array(e.length);for(let u=0,c=e.length;u<c;u++)o[u]=t(a?f?h0(me(e[u])):me(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,r)}else if(ce(e))if(e[Symbol.iterator])o=Array.from(e,(l,a)=>t(l,a,void 0,r));else{const l=Object.keys(e);o=new Array(l.length);for(let a=0,f=l.length;a<f;a++){const u=l[a];o[a]=t(e[u],u,a,r)}}else o=[];return o}const J0=e=>e?vn(e)?H0(e):J0(e.parent):null,zt=Me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>J0(e.parent),$root:e=>J0(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Js(e),$forceUpdate:e=>e.f||(e.f=()=>{y2(e.update)}),$nextTick:e=>e.n||(e.n=Zs.bind(e.proxy)),$watch:e=>lr.bind(e)}),N0=(e,t)=>e!==se&&!e.__isScriptSetup&&Q(e,t),Vo={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:o,props:r,accessCache:i,type:l,appContext:a}=e;let f;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return o[t];case 4:return s[t];case 3:return r[t]}else{if(N0(n,t))return i[t]=1,n[t];if(o!==se&&Q(o,t))return i[t]=2,o[t];if((f=e.propsOptions[0])&&Q(f,t))return i[t]=3,r[t];if(s!==se&&Q(s,t))return i[t]=4,s[t];e2&&(i[t]=0)}}const u=zt[t];let c,g;if(u)return t==="$attrs"&&_e(e.attrs,"get",""),u(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(s!==se&&Q(s,t))return i[t]=4,s[t];if(g=a.config.globalProperties,Q(g,t))return g[t]},set({_:e},t,s){const{data:n,setupState:o,ctx:r}=e;return N0(o,t)?(o[t]=s,!0):n!==se&&Q(n,t)?(n[t]=s,!0):Q(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:o,propsOptions:r}},i){let l;return!!s[i]||e!==se&&Q(e,i)||N0(t,i)||(l=r[0])&&Q(l,i)||Q(n,i)||Q(zt,i)||Q(o.config.globalProperties,i)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Q(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function I2(e){return V(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let e2=!0;function Do(e){const t=Js(e),s=e.proxy,n=e.ctx;e2=!1,t.beforeCreate&&O2(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:l,provide:a,inject:f,created:u,beforeMount:c,mounted:g,beforeUpdate:h,updated:C,activated:m,deactivated:w,beforeDestroy:E,beforeUnmount:D,destroyed:Z,unmounted:R,render:O,renderTracked:de,renderTriggered:X,errorCaptured:F,serverPrefetch:N,expose:oe,inheritAttrs:ee,components:ge,directives:De,filters:ct}=t;if(f&&Zo(f,n,null),i)for(const K in i){const te=i[K];W(te)&&(n[K]=te.bind(s))}if(o){const K=o.call(s,s);ce(K)&&(e.data=A0(K))}if(e2=!0,r)for(const K in r){const te=r[K],je=W(te)?te.bind(s,s):W(te.get)?te.get.bind(s,s):Xe,vt=!W(te)&&W(te.set)?te.set.bind(s):Xe,B=j({get:je,set:vt});Object.defineProperty(n,K,{enumerable:!0,configurable:!0,get:()=>B.value,set:$=>B.value=$})}if(l)for(const K in l)Qs(l[K],n,s,K);if(a){const K=W(a)?a.call(s):a;Reflect.ownKeys(K).forEach(te=>{Ko(te,K[te])})}u&&O2(u,e,"c");function ae(K,te){V(te)?te.forEach(je=>K(je.bind(s))):te&&K(te.bind(s))}if(ae(ko,c),ae(It,g),ae(Ao,h),ae(Po,C),ae(Mo,m),ae(So,w),ae(Fo,F),ae(Ho,de),ae(Ro,X),ae(To,D),ae(o0,R),ae(Bo,N),V(oe))if(oe.length){const K=e.exposed||(e.exposed={});oe.forEach(te=>{Object.defineProperty(K,te,{get:()=>s[te],set:je=>s[te]=je})})}else e.exposed||(e.exposed={});O&&e.render===Xe&&(e.render=O),ee!=null&&(e.inheritAttrs=ee),ge&&(e.components=ge),De&&(e.directives=De),N&&zs(e)}function Zo(e,t,s=Xe){V(e)&&(e=t2(e));for(const n in e){const o=e[n];let r;ce(o)?"default"in o?r=Kt(o.from||n,o.default,!0):r=Kt(o.from||n):r=Kt(o),fe(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[n]=r}}function O2(e,t,s){Qe(V(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Qs(e,t,s,n){let o=n.includes(".")?hn(s,n):()=>s[n];if(pe(e)){const r=t[e];W(r)&&qt(o,r)}else if(W(e))qt(o,e.bind(s));else if(ce(e))if(V(e))e.forEach(r=>Qs(r,t,s,n));else{const r=W(e.handler)?e.handler.bind(s):t[e.handler];W(r)&&qt(o,r,e)}}function Js(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let a;return l?a=l:!o.length&&!s&&!n?a=t:(a={},o.length&&o.forEach(f=>v0(a,f,i,!0)),v0(a,t,i)),ce(t)&&r.set(t,a),a}function v0(e,t,s,n=!1){const{mixins:o,extends:r}=t;r&&v0(e,r,s,!0),o&&o.forEach(i=>v0(e,i,s,!0));for(const i in t)if(!(n&&i==="expose")){const l=Uo[i]||s&&s[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const Uo={data:$2,props:V2,emits:V2,methods:Zt,computed:Zt,beforeCreate:be,created:be,beforeMount:be,mounted:be,beforeUpdate:be,updated:be,beforeDestroy:be,beforeUnmount:be,destroyed:be,unmounted:be,activated:be,deactivated:be,errorCaptured:be,serverPrefetch:be,components:Zt,directives:Zt,watch:No,provide:$2,inject:jo};function $2(e,t){return t?e?function(){return Me(W(e)?e.call(this,this):e,W(t)?t.call(this,this):t)}:t:e}function jo(e,t){return Zt(t2(e),t2(t))}function t2(e){if(V(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function be(e,t){return e?[...new Set([].concat(e,t))]:t}function Zt(e,t){return e?Me(Object.create(null),e,t):t}function V2(e,t){return e?V(e)&&V(t)?[...new Set([...e,...t])]:Me(Object.create(null),I2(e),I2(t??{})):t}function No(e,t){if(!e)return t;if(!t)return e;const s=Me(Object.create(null),e);for(const n in t)s[n]=be(e[n],t[n]);return s}function en(){return{app:null,config:{isNativeTag:En,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wo=0;function zo(e,t){return function(n,o=null){W(n)||(n=Me({},n)),o!=null&&!ce(o)&&(o=null);const r=en(),i=new WeakSet,l=[];let a=!1;const f=r.app={_uid:Wo++,_component:n,_props:o,_container:null,_context:r,_instance:null,version:kr,get config(){return r.config},set config(u){},use(u,...c){return i.has(u)||(u&&W(u.install)?(i.add(u),u.install(f,...c)):W(u)&&(i.add(u),u(f,...c))),f},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),f},component(u,c){return c?(r.components[u]=c,f):r.components[u]},directive(u,c){return c?(r.directives[u]=c,f):r.directives[u]},mount(u,c,g){if(!a){const h=f._ceVNode||he(n,o);return h.appContext=r,g===!0?g="svg":g===!1&&(g=void 0),e(h,u,g),a=!0,f._container=u,u.__vue_app__=f,H0(h.component)}},onUnmount(u){l.push(u)},unmount(){a&&(Qe(l,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(u,c){return r.provides[u]=c,f},runWithContext(u){const c=Mt;Mt=f;try{return u()}finally{Mt=c}}};return f}}let Mt=null;function Ko(e,t){if(ve){let s=ve.provides;const n=ve.parent&&ve.parent.provides;n===s&&(s=ve.provides=Object.create(n)),s[e]=t}}function Kt(e,t,s=!1){const n=ve||ke;if(n||Mt){const o=Mt?Mt._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&W(t)?t.call(n&&n.proxy):t}}function qo(){return!!(ve||ke||Mt)}const tn={},sn=()=>Object.create(tn),nn=e=>Object.getPrototypeOf(e)===tn;function Yo(e,t,s,n=!1){const o={},r=sn();e.propsDefaults=Object.create(null),on(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);s?e.props=n?o:ro(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function Xo(e,t,s,n){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,l=G(o),[a]=e.propsOptions;let f=!1;if((n||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let c=0;c<u.length;c++){let g=u[c];if(B0(e.emitsOptions,g))continue;const h=t[g];if(a)if(Q(r,g))h!==r[g]&&(r[g]=h,f=!0);else{const C=Ve(g);o[C]=s2(a,l,C,h,e,!1)}else h!==r[g]&&(r[g]=h,f=!0)}}}else{on(e,t,o,r)&&(f=!0);let u;for(const c in l)(!t||!Q(t,c)&&((u=Et(c))===c||!Q(t,u)))&&(a?s&&(s[c]!==void 0||s[u]!==void 0)&&(o[c]=s2(a,l,c,void 0,e,!0)):delete o[c]);if(r!==l)for(const c in r)(!t||!Q(t,c))&&(delete r[c],f=!0)}f&&st(e.attrs,"set","")}function on(e,t,s,n){const[o,r]=e.propsOptions;let i=!1,l;if(t)for(let a in t){if(Ut(a))continue;const f=t[a];let u;o&&Q(o,u=Ve(a))?!r||!r.includes(u)?s[u]=f:(l||(l={}))[u]=f:B0(e.emitsOptions,a)||(!(a in n)||f!==n[a])&&(n[a]=f,i=!0)}if(r){const a=G(s),f=l||se;for(let u=0;u<r.length;u++){const c=r[u];s[c]=s2(o,a,c,f[c],e,!Q(f,c))}}return i}function s2(e,t,s,n,o,r){const i=e[s];if(i!=null){const l=Q(i,"default");if(l&&n===void 0){const a=i.default;if(i.type!==Function&&!i.skipFactory&&W(a)){const{propsDefaults:f}=o;if(s in f)n=f[s];else{const u=r0(o);n=f[s]=a.call(null,t),u()}}else n=a;o.ce&&o.ce._setProp(s,n)}i[0]&&(r&&!l?n=!1:i[1]&&(n===""||n===Et(s))&&(n=!0))}return n}const Go=new WeakMap;function rn(e,t,s=!1){const n=s?Go:t.propsCache,o=n.get(e);if(o)return o;const r=e.props,i={},l=[];let a=!1;if(!W(e)){const u=c=>{a=!0;const[g,h]=rn(c,t,!0);Me(i,g),h&&l.push(...h)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!a)return ce(e)&&n.set(e,Tt),Tt;if(V(r))for(let u=0;u<r.length;u++){const c=Ve(r[u]);D2(c)&&(i[c]=se)}else if(r)for(const u in r){const c=Ve(u);if(D2(c)){const g=r[u],h=i[c]=V(g)||W(g)?{type:g}:Me({},g),C=h.type;let m=!1,w=!0;if(V(C))for(let E=0;E<C.length;++E){const D=C[E],Z=W(D)&&D.name;if(Z==="Boolean"){m=!0;break}else Z==="String"&&(w=!1)}else m=W(C)&&C.name==="Boolean";h[0]=m,h[1]=w,(m||Q(h,"default"))&&l.push(c)}}const f=[i,l];return ce(e)&&n.set(e,f),f}function D2(e){return e[0]!=="$"&&!Ut(e)}const b2=e=>e[0]==="_"||e==="$stable",x2=e=>V(e)?e.map(Ye):[Ye(e)],Qo=(e,t,s)=>{if(t._n)return t;const n=_o((...o)=>x2(t(...o)),s);return n._c=!1,n},ln=(e,t,s)=>{const n=e._ctx;for(const o in e){if(b2(o))continue;const r=e[o];if(W(r))t[o]=Qo(o,r,n);else if(r!=null){const i=x2(r);t[o]=()=>i}}},cn=(e,t)=>{const s=x2(t);e.slots.default=()=>s},un=(e,t,s)=>{for(const n in t)(s||!b2(n))&&(e[n]=t[n])},Jo=(e,t,s)=>{const n=e.slots=sn();if(e.vnode.shapeFlag&32){const o=t._;o?(un(n,t,s),s&&Cs(n,"_",o,!0)):ln(t,n)}else t&&cn(e,t)},er=(e,t,s)=>{const{vnode:n,slots:o}=e;let r=!0,i=se;if(n.shapeFlag&32){const l=t._;l?s&&l===1?r=!1:un(o,t,s):(r=!t.$stable,ln(t,o)),i=t}else t&&(cn(e,t),i={default:1});if(r)for(const l in o)!b2(l)&&i[l]==null&&delete o[l]},Be=pr;function tr(e){return sr(e)}function sr(e,t){const s=E0();s.__VUE__=!0;const{insert:n,remove:o,patchProp:r,createElement:i,createText:l,createComment:a,setText:f,setElementText:u,parentNode:c,nextSibling:g,setScopeId:h=Xe,insertStaticContent:C}=e,m=(d,p,v,b=null,y=null,_=null,A=void 0,S=null,L=!!p.dynamicChildren)=>{if(d===p)return;d&&!Dt(d,p)&&(b=ut(d),$(d,y,_,!0),d=null),p.patchFlag===-2&&(L=!1,p.dynamicChildren=null);const{type:x,ref:I,shapeFlag:P}=p;switch(x){case R0:w(d,p,v,b);break;case Ct:E(d,p,v,b);break;case z0:d==null&&D(p,v,b,A);break;case le:ge(d,p,v,b,y,_,A,S,L);break;default:P&1?O(d,p,v,b,y,_,A,S,L):P&6?De(d,p,v,b,y,_,A,S,L):(P&64||P&128)&&x.process(d,p,v,b,y,_,A,S,L,Ot)}I!=null&&y&&m0(I,d&&d.ref,_,p||d,!p)},w=(d,p,v,b)=>{if(d==null)n(p.el=l(p.children),v,b);else{const y=p.el=d.el;p.children!==d.children&&f(y,p.children)}},E=(d,p,v,b)=>{d==null?n(p.el=a(p.children||""),v,b):p.el=d.el},D=(d,p,v,b)=>{[d.el,d.anchor]=C(d.children,p,v,b,d.el,d.anchor)},Z=({el:d,anchor:p},v,b)=>{let y;for(;d&&d!==p;)y=g(d),n(d,v,b),d=y;n(p,v,b)},R=({el:d,anchor:p})=>{let v;for(;d&&d!==p;)v=g(d),o(d),d=v;o(p)},O=(d,p,v,b,y,_,A,S,L)=>{p.type==="svg"?A="svg":p.type==="math"&&(A="mathml"),d==null?de(p,v,b,y,_,A,S,L):N(d,p,y,_,A,S,L)},de=(d,p,v,b,y,_,A,S)=>{let L,x;const{props:I,shapeFlag:P,transition:H,dirs:U}=d;if(L=d.el=i(d.type,_,I&&I.is,I),P&8?u(L,d.children):P&16&&F(d.children,L,null,b,y,W0(d,_),A,S),U&&yt(d,null,b,"created"),X(L,d,d.scopeId,A,b),I){for(const re in I)re!=="value"&&!Ut(re)&&r(L,re,null,I[re],_,b);"value"in I&&r(L,"value",null,I.value,_),(x=I.onVnodeBeforeMount)&&Ke(x,b,d)}U&&yt(d,null,b,"beforeMount");const Y=nr(y,H);Y&&H.beforeEnter(L),n(L,p,v),((x=I&&I.onVnodeMounted)||Y||U)&&Be(()=>{x&&Ke(x,b,d),Y&&H.enter(L),U&&yt(d,null,b,"mounted")},y)},X=(d,p,v,b,y)=>{if(v&&h(d,v),b)for(let _=0;_<b.length;_++)h(d,b[_]);if(y){let _=y.subTree;if(p===_||gn(_.type)&&(_.ssContent===p||_.ssFallback===p)){const A=y.vnode;X(d,A,A.scopeId,A.slotScopeIds,y.parent)}}},F=(d,p,v,b,y,_,A,S,L=0)=>{for(let x=L;x<d.length;x++){const I=d[x]=S?ht(d[x]):Ye(d[x]);m(null,I,p,v,b,y,_,A,S)}},N=(d,p,v,b,y,_,A)=>{const S=p.el=d.el;let{patchFlag:L,dynamicChildren:x,dirs:I}=p;L|=d.patchFlag&16;const P=d.props||se,H=p.props||se;let U;if(v&&_t(v,!1),(U=H.onVnodeBeforeUpdate)&&Ke(U,v,p,d),I&&yt(p,d,v,"beforeUpdate"),v&&_t(v,!0),(P.innerHTML&&H.innerHTML==null||P.textContent&&H.textContent==null)&&u(S,""),x?oe(d.dynamicChildren,x,S,v,b,W0(p,y),_):A||te(d,p,S,null,v,b,W0(p,y),_,!1),L>0){if(L&16)ee(S,P,H,v,y);else if(L&2&&P.class!==H.class&&r(S,"class",null,H.class,y),L&4&&r(S,"style",P.style,H.style,y),L&8){const Y=p.dynamicProps;for(let re=0;re<Y.length;re++){const J=Y[re],Pe=P[J],Se=H[J];(Se!==Pe||J==="value")&&r(S,J,Pe,Se,y,v)}}L&1&&d.children!==p.children&&u(S,p.children)}else!A&&x==null&&ee(S,P,H,v,y);((U=H.onVnodeUpdated)||I)&&Be(()=>{U&&Ke(U,v,p,d),I&&yt(p,d,v,"updated")},b)},oe=(d,p,v,b,y,_,A)=>{for(let S=0;S<p.length;S++){const L=d[S],x=p[S],I=L.el&&(L.type===le||!Dt(L,x)||L.shapeFlag&70)?c(L.el):v;m(L,x,I,null,b,y,_,A,!0)}},ee=(d,p,v,b,y)=>{if(p!==v){if(p!==se)for(const _ in p)!Ut(_)&&!(_ in v)&&r(d,_,p[_],null,y,b);for(const _ in v){if(Ut(_))continue;const A=v[_],S=p[_];A!==S&&_!=="value"&&r(d,_,S,A,y,b)}"value"in v&&r(d,"value",p.value,v.value,y)}},ge=(d,p,v,b,y,_,A,S,L)=>{const x=p.el=d?d.el:l(""),I=p.anchor=d?d.anchor:l("");let{patchFlag:P,dynamicChildren:H,slotScopeIds:U}=p;U&&(S=S?S.concat(U):U),d==null?(n(x,v,b),n(I,v,b),F(p.children||[],v,I,y,_,A,S,L)):P>0&&P&64&&H&&d.dynamicChildren?(oe(d.dynamicChildren,H,v,y,_,A,S),(p.key!=null||y&&p===y.subTree)&&an(d,p,!0)):te(d,p,v,I,y,_,A,S,L)},De=(d,p,v,b,y,_,A,S,L)=>{p.slotScopeIds=S,d==null?p.shapeFlag&512?y.ctx.activate(p,v,b,A,L):ct(p,v,b,y,_,A,L):Ce(d,p,L)},ct=(d,p,v,b,y,_,A)=>{const S=d.component=_r(d,b,y);if(Ks(d)&&(S.ctx.renderer=Ot),br(S,!1,A),S.asyncDep){if(y&&y.registerDep(S,ae,A),!d.el){const L=S.subTree=he(Ct);E(null,L,p,v)}}else ae(S,d,p,v,y,_,A)},Ce=(d,p,v)=>{const b=p.component=d.component;if(dr(d,p,v))if(b.asyncDep&&!b.asyncResolved){K(b,p,v);return}else b.next=p,b.update();else p.el=d.el,b.vnode=p},ae=(d,p,v,b,y,_,A)=>{const S=()=>{if(d.isMounted){let{next:P,bu:H,u:U,parent:Y,vnode:re}=d;{const We=fn(d);if(We){P&&(P.el=re.el,K(d,P,A)),We.asyncDep.then(()=>{d.isUnmounted||S()});return}}let J=P,Pe;_t(d,!1),P?(P.el=re.el,K(d,P,A)):P=re,H&&V0(H),(Pe=P.props&&P.props.onVnodeBeforeUpdate)&&Ke(Pe,Y,P,re),_t(d,!0);const Se=U2(d),Ne=d.subTree;d.subTree=Se,m(Ne,Se,c(Ne.el),ut(Ne),d,y,_),P.el=Se.el,J===null&&hr(d,Se.el),U&&Be(U,y),(Pe=P.props&&P.props.onVnodeUpdated)&&Be(()=>Ke(Pe,Y,P,re),y)}else{let P;const{el:H,props:U}=p,{bm:Y,m:re,parent:J,root:Pe,type:Se}=d,Ne=Wt(p);_t(d,!1),Y&&V0(Y),!Ne&&(P=U&&U.onVnodeBeforeMount)&&Ke(P,J,p),_t(d,!0);{Pe.ce&&Pe.ce._injectChildStyle(Se);const We=d.subTree=U2(d);m(null,We,v,b,d,y,_),p.el=We.el}if(re&&Be(re,y),!Ne&&(P=U&&U.onVnodeMounted)){const We=p;Be(()=>Ke(P,J,We),y)}(p.shapeFlag&256||J&&Wt(J.vnode)&&J.vnode.shapeFlag&256)&&d.a&&Be(d.a,y),d.isMounted=!0,p=v=b=null}};d.scope.on();const L=d.effect=new xs(S);d.scope.off();const x=d.update=L.run.bind(L),I=d.job=L.runIfDirty.bind(L);I.i=d,I.id=d.uid,L.scheduler=()=>y2(I),_t(d,!0),x()},K=(d,p,v)=>{p.component=d;const b=d.vnode.props;d.vnode=p,d.next=null,Xo(d,p.props,b,v),er(d,p.children,v),rt(),H2(d),it()},te=(d,p,v,b,y,_,A,S,L=!1)=>{const x=d&&d.children,I=d?d.shapeFlag:0,P=p.children,{patchFlag:H,shapeFlag:U}=p;if(H>0){if(H&128){vt(x,P,v,b,y,_,A,S,L);return}else if(H&256){je(x,P,v,b,y,_,A,S,L);return}}U&8?(I&16&&Oe(x,y,_),P!==x&&u(v,P)):I&16?U&16?vt(x,P,v,b,y,_,A,S,L):Oe(x,y,_,!0):(I&8&&u(v,""),U&16&&F(P,v,b,y,_,A,S,L))},je=(d,p,v,b,y,_,A,S,L)=>{d=d||Tt,p=p||Tt;const x=d.length,I=p.length,P=Math.min(x,I);let H;for(H=0;H<P;H++){const U=p[H]=L?ht(p[H]):Ye(p[H]);m(d[H],U,v,null,y,_,A,S,L)}x>I?Oe(d,y,_,!0,!1,P):F(p,v,b,y,_,A,S,L,P)},vt=(d,p,v,b,y,_,A,S,L)=>{let x=0;const I=p.length;let P=d.length-1,H=I-1;for(;x<=P&&x<=H;){const U=d[x],Y=p[x]=L?ht(p[x]):Ye(p[x]);if(Dt(U,Y))m(U,Y,v,null,y,_,A,S,L);else break;x++}for(;x<=P&&x<=H;){const U=d[P],Y=p[H]=L?ht(p[H]):Ye(p[H]);if(Dt(U,Y))m(U,Y,v,null,y,_,A,S,L);else break;P--,H--}if(x>P){if(x<=H){const U=H+1,Y=U<I?p[U].el:b;for(;x<=H;)m(null,p[x]=L?ht(p[x]):Ye(p[x]),v,Y,y,_,A,S,L),x++}}else if(x>H)for(;x<=P;)$(d[x],y,_,!0),x++;else{const U=x,Y=x,re=new Map;for(x=Y;x<=H;x++){const Te=p[x]=L?ht(p[x]):Ye(p[x]);Te.key!=null&&re.set(Te.key,x)}let J,Pe=0;const Se=H-Y+1;let Ne=!1,We=0;const $t=new Array(Se);for(x=0;x<Se;x++)$t[x]=0;for(x=U;x<=P;x++){const Te=d[x];if(Pe>=Se){$(Te,y,_,!0);continue}let ze;if(Te.key!=null)ze=re.get(Te.key);else for(J=Y;J<=H;J++)if($t[J-Y]===0&&Dt(Te,p[J])){ze=J;break}ze===void 0?$(Te,y,_,!0):($t[ze-Y]=x+1,ze>=We?We=ze:Ne=!0,m(Te,p[ze],v,null,y,_,A,S,L),Pe++)}const A2=Ne?or($t):Tt;for(J=A2.length-1,x=Se-1;x>=0;x--){const Te=Y+x,ze=p[Te],P2=Te+1<I?p[Te+1].el:b;$t[x]===0?m(null,ze,v,P2,y,_,A,S,L):Ne&&(J<0||x!==A2[J]?B(ze,v,P2,2):J--)}}},B=(d,p,v,b,y=null)=>{const{el:_,type:A,transition:S,children:L,shapeFlag:x}=d;if(x&6){B(d.component.subTree,p,v,b);return}if(x&128){d.suspense.move(p,v,b);return}if(x&64){A.move(d,p,v,Ot);return}if(A===le){n(_,p,v);for(let P=0;P<L.length;P++)B(L[P],p,v,b);n(d.anchor,p,v);return}if(A===z0){Z(d,p,v);return}if(b!==2&&x&1&&S)if(b===0)S.beforeEnter(_),n(_,p,v),Be(()=>S.enter(_),y);else{const{leave:P,delayLeave:H,afterLeave:U}=S,Y=()=>{d.ctx.isUnmounted?o(_):n(_,p,v)},re=()=>{P(_,()=>{Y(),U&&U()})};H?H(_,Y,re):re()}else n(_,p,v)},$=(d,p,v,b=!1,y=!1)=>{const{type:_,props:A,ref:S,children:L,dynamicChildren:x,shapeFlag:I,patchFlag:P,dirs:H,cacheIndex:U}=d;if(P===-2&&(y=!1),S!=null&&(rt(),m0(S,null,v,d,!0),it()),U!=null&&(p.renderCache[U]=void 0),I&256){p.ctx.deactivate(d);return}const Y=I&1&&H,re=!Wt(d);let J;if(re&&(J=A&&A.onVnodeBeforeUnmount)&&Ke(J,p,d),I&6)wt(d.component,v,b);else{if(I&128){d.suspense.unmount(v,b);return}Y&&yt(d,null,p,"beforeUnmount"),I&64?d.type.remove(d,p,v,Ot,b):x&&!x.hasOnce&&(_!==le||P>0&&P&64)?Oe(x,p,v,!1,!0):(_===le&&P&384||!y&&I&16)&&Oe(L,p,v),b&&q(d)}(re&&(J=A&&A.onVnodeUnmounted)||Y)&&Be(()=>{J&&Ke(J,p,d),Y&&yt(d,null,p,"unmounted")},v)},q=d=>{const{type:p,el:v,anchor:b,transition:y}=d;if(p===le){Ie(v,b);return}if(p===z0){R(d);return}const _=()=>{o(v),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(d.shapeFlag&1&&y&&!y.persisted){const{leave:A,delayLeave:S}=y,L=()=>A(v,_);S?S(d.el,_,L):L()}else _()},Ie=(d,p)=>{let v;for(;d!==p;)v=g(d),o(d),d=v;o(p)},wt=(d,p,v)=>{const{bum:b,scope:y,job:_,subTree:A,um:S,m:L,a:x,parent:I,slots:{__:P}}=d;Z2(L),Z2(x),b&&V0(b),I&&V(P)&&P.forEach(H=>{I.renderCache[H]=void 0}),y.stop(),_&&(_.flags|=8,$(A,d,p,v)),S&&Be(S,p),Be(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Oe=(d,p,v,b=!1,y=!1,_=0)=>{for(let A=_;A<d.length;A++)$(d[A],p,v,b,y)},ut=d=>{if(d.shapeFlag&6)return ut(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const p=g(d.anchor||d.el),v=p&&p[xo];return v?g(v):p};let O0=!1;const k2=(d,p,v)=>{d==null?p._vnode&&$(p._vnode,null,null,!0):m(p._vnode||null,d,p,null,null,null,v),p._vnode=d,O0||(O0=!0,H2(),js(),O0=!1)},Ot={p:m,um:$,m:B,r:q,mt:ct,mc:F,pc:te,pbc:oe,n:ut,o:e};return{render:k2,hydrate:void 0,createApp:zo(k2)}}function W0({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function _t({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function nr(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function an(e,t,s=!1){const n=e.children,o=t.children;if(V(n)&&V(o))for(let r=0;r<n.length;r++){const i=n[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=ht(o[r]),l.el=i.el),!s&&l.patchFlag!==-2&&an(i,l)),l.type===R0&&(l.el=i.el),l.type===Ct&&!l.el&&(l.el=i.el)}}function or(e){const t=e.slice(),s=[0];let n,o,r,i,l;const a=e.length;for(n=0;n<a;n++){const f=e[n];if(f!==0){if(o=s[s.length-1],e[o]<f){t[n]=o,s.push(n);continue}for(r=0,i=s.length-1;r<i;)l=r+i>>1,e[s[l]]<f?r=l+1:i=l;f<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,i=s[r-1];r-- >0;)s[r]=i,i=t[i];return s}function fn(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:fn(t)}function Z2(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const rr=Symbol.for("v-scx"),ir=()=>Kt(rr);function qt(e,t,s){return dn(e,t,s)}function dn(e,t,s=se){const{immediate:n,deep:o,flush:r,once:i}=s,l=Me({},s),a=t&&n||!t&&r!=="post";let f;if(s0){if(r==="sync"){const h=ir();f=h.__watcherHandles||(h.__watcherHandles=[])}else if(!a){const h=()=>{};return h.stop=Xe,h.resume=Xe,h.pause=Xe,h}}const u=ve;l.call=(h,C,m)=>Qe(h,u,C,m);let c=!1;r==="post"?l.scheduler=h=>{Be(h,u&&u.suspense)}:r!=="sync"&&(c=!0,l.scheduler=(h,C)=>{C?h():y2(h)}),l.augmentJob=h=>{t&&(h.flags|=4),c&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const g=mo(e,t,l);return s0&&(f?f.push(g):a&&g()),g}function lr(e,t,s){const n=this.proxy,o=pe(e)?e.includes(".")?hn(n,e):()=>n[e]:e.bind(n,n);let r;W(t)?r=t:(r=t.handler,s=t);const i=r0(this),l=dn(o,r.bind(n),s);return i(),l}function hn(e,t){const s=t.split(".");return()=>{let n=e;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}const cr=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ve(t)}Modifiers`]||e[`${Et(t)}Modifiers`];function ur(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||se;let o=s;const r=t.startsWith("update:"),i=r&&cr(n,t.slice(7));i&&(i.trim&&(o=s.map(u=>pe(u)?u.trim():u)),i.number&&(o=s.map(Bn)));let l,a=n[l=$0(t)]||n[l=$0(Ve(t))];!a&&r&&(a=n[l=$0(Et(t))]),a&&Qe(a,e,6,o);const f=n[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Qe(f,e,6,o)}}function pn(e,t,s=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const r=e.emits;let i={},l=!1;if(!W(e)){const a=f=>{const u=pn(f,t,!0);u&&(l=!0,Me(i,u))};!s&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!l?(ce(e)&&n.set(e,null),null):(V(r)?r.forEach(a=>i[a]=null):Me(i,r),ce(e)&&n.set(e,i),i)}function B0(e,t){return!e||!x0(t)?!1:(t=t.slice(2).replace(/Once$/,""),Q(e,t[0].toLowerCase()+t.slice(1))||Q(e,Et(t))||Q(e,t))}function U2(e){const{type:t,vnode:s,proxy:n,withProxy:o,propsOptions:[r],slots:i,attrs:l,emit:a,render:f,renderCache:u,props:c,data:g,setupState:h,ctx:C,inheritAttrs:m}=e,w=C0(e);let E,D;try{if(s.shapeFlag&4){const R=o||n,O=R;E=Ye(f.call(O,R,u,c,h,g,C)),D=l}else{const R=t;E=Ye(R.length>1?R(c,{attrs:l,slots:i,emit:a}):R(c,null)),D=t.props?l:ar(l)}}catch(R){Yt.length=0,P0(R,e,1),E=he(Ct)}let Z=E;if(D&&m!==!1){const R=Object.keys(D),{shapeFlag:O}=Z;R.length&&O&7&&(r&&R.some(u2)&&(D=fr(D,r)),Z=Ft(Z,D,!1,!0))}return s.dirs&&(Z=Ft(Z,null,!1,!0),Z.dirs=Z.dirs?Z.dirs.concat(s.dirs):s.dirs),s.transition&&_2(Z,s.transition),E=Z,C0(w),E}const ar=e=>{let t;for(const s in e)(s==="class"||s==="style"||x0(s))&&((t||(t={}))[s]=e[s]);return t},fr=(e,t)=>{const s={};for(const n in e)(!u2(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function dr(e,t,s){const{props:n,children:o,component:r}=e,{props:i,children:l,patchFlag:a}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return n?j2(n,i,f):!!i;if(a&8){const u=t.dynamicProps;for(let c=0;c<u.length;c++){const g=u[c];if(i[g]!==n[g]&&!B0(f,g))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:n===i?!1:n?i?j2(n,i,f):!0:!!i;return!1}function j2(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const r=n[o];if(t[r]!==e[r]&&!B0(s,r))return!0}return!1}function hr({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const gn=e=>e.__isSuspense;function pr(e,t){t&&t.pendingBranch?V(e)?t.effects.push(...e):t.effects.push(e):yo(e)}const le=Symbol.for("v-fgt"),R0=Symbol.for("v-txt"),Ct=Symbol.for("v-cmt"),z0=Symbol.for("v-stc"),Yt=[];let He=null;function k(e=!1){Yt.push(He=e?null:[])}function gr(){Yt.pop(),He=Yt[Yt.length-1]||null}let e0=1;function N2(e,t=!1){e0+=e,e<0&&He&&t&&(He.hasOnce=!0)}function Cn(e){return e.dynamicChildren=e0>0?He||Tt:null,gr(),e0>0&&He&&He.push(e),e}function T(e,t,s,n,o,r){return Cn(M(e,t,s,n,o,r,!0))}function t0(e,t,s,n,o){return Cn(he(e,t,s,n,o,!0))}function w0(e){return e?e.__v_isVNode===!0:!1}function Dt(e,t){return e.type===t.type&&e.key===t.key}const mn=({key:e})=>e??null,a0=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?pe(e)||fe(e)||W(e)?{i:ke,r:e,k:t,f:!!s}:e:null);function M(e,t=null,s=null,n=0,o=null,r=e===le?0:1,i=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&mn(t),ref:t&&a0(t),scopeId:Ws,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ke};return l?(L2(a,s),r&128&&e.normalize(a)):s&&(a.shapeFlag|=pe(s)?8:16),e0>0&&!i&&He&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&He.push(a),a}const he=Cr;function Cr(e,t=null,s=null,n=0,o=null,r=!1){if((!e||e===Xs)&&(e=Ct),w0(e)){const l=Ft(e,t,!0);return s&&L2(l,s),e0>0&&!r&&He&&(l.shapeFlag&6?He[He.indexOf(e)]=l:He.push(l)),l.patchFlag=-2,l}if(Er(e)&&(e=e.__vccOpts),t){t=mr(t);let{class:l,style:a}=t;l&&!pe(l)&&(t.class=Re(l)),ce(a)&&(v2(a)&&!V(a)&&(a=Me({},a)),t.style=Ze(a))}const i=pe(e)?1:gn(e)?128:Lo(e)?64:ce(e)?4:W(e)?2:0;return M(e,t,s,n,o,i,r,!0)}function mr(e){return e?v2(e)||nn(e)?Me({},e):e:null}function Ft(e,t,s=!1,n=!1){const{props:o,ref:r,patchFlag:i,children:l,transition:a}=e,f=t?vr(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&mn(f),ref:t&&t.ref?s&&r?V(r)?r.concat(a0(t)):[r,a0(t)]:a0(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==le?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ft(e.ssContent),ssFallback:e.ssFallback&&Ft(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&n&&_2(u,a.clone(u)),u}function Le(e=" ",t=0){return he(R0,null,e,t)}function ne(e="",t=!1){return t?(k(),t0(Ct,null,e)):he(Ct,null,e)}function Ye(e){return e==null||typeof e=="boolean"?he(Ct):V(e)?he(le,null,e.slice()):w0(e)?ht(e):he(R0,null,String(e))}function ht(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ft(e)}function L2(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(V(t))s=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),L2(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!nn(t)?t._ctx=ke:o===3&&ke&&(ke.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else W(t)?(t={default:t,_ctx:ke},s=32):(t=String(t),n&64?(s=16,t=[Le(t)]):s=8);e.children=t,e.shapeFlag|=s}function vr(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=Re([t.class,n.class]));else if(o==="style")t.style=Ze([t.style,n.style]);else if(x0(o)){const r=t[o],i=n[o];i&&r!==i&&!(V(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=n[o])}return t}function Ke(e,t,s,n=null){Qe(e,t,7,[s,n])}const wr=en();let yr=0;function _r(e,t,s){const n=e.type,o=(t?t.appContext:e.appContext)||wr,r={uid:yr++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ys(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rn(n,o),emitsOptions:pn(n,o),emit:null,emitted:null,propsDefaults:se,inheritAttrs:n.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=ur.bind(null,r),e.ce&&e.ce(r),r}let ve=null,y0,n2;{const e=E0(),t=(s,n)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(n),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};y0=t("__VUE_INSTANCE_SETTERS__",s=>ve=s),n2=t("__VUE_SSR_SETTERS__",s=>s0=s)}const r0=e=>{const t=ve;return y0(e),e.scope.on(),()=>{e.scope.off(),y0(t)}},W2=()=>{ve&&ve.scope.off(),y0(null)};function vn(e){return e.vnode.shapeFlag&4}let s0=!1;function br(e,t=!1,s=!1){t&&n2(t);const{props:n,children:o}=e.vnode,r=vn(e);Yo(e,n,r,t),Jo(e,o,s||t);const i=r?xr(e,t):void 0;return t&&n2(!1),i}function xr(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Vo);const{setup:n}=s;if(n){rt();const o=e.setupContext=n.length>1?Mr(e):null,r=r0(e),i=n0(n,e,0,[e.props,o]),l=hs(i);if(it(),r(),(l||e.sp)&&!Wt(e)&&zs(e),l){if(i.then(W2,W2),t)return i.then(a=>{z2(e,a)}).catch(a=>{P0(a,e,0)});e.asyncDep=i}else z2(e,i)}else wn(e)}function z2(e,t,s){W(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ce(t)&&(e.setupState=$s(t)),wn(e)}function wn(e,t,s){const n=e.type;e.render||(e.render=n.render||Xe);{const o=r0(e);rt();try{Do(e)}finally{it(),o()}}}const Lr={get(e,t){return _e(e,"get",""),e[t]}};function Mr(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Lr),slots:e.slots,emit:e.emit,expose:t}}function H0(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy($s(w2(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in zt)return zt[s](e)},has(t,s){return s in t||s in zt}})):e.proxy}function Sr(e,t=!0){return W(e)?e.displayName||e.name:e.name||t&&e.__name}function Er(e){return W(e)&&"__vccOpts"in e}const j=(e,t)=>go(e,t,s0);function xt(e,t,s){const n=arguments.length;return n===2?ce(t)&&!V(t)?w0(t)?he(e,null,[t]):he(e,t):he(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&w0(s)&&(s=[s]),he(e,t,s))}const kr="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let o2;const K2=typeof window<"u"&&window.trustedTypes;if(K2)try{o2=K2.createPolicy("vue",{createHTML:e=>e})}catch{}const yn=o2?e=>o2.createHTML(e):e=>e,Ar="http://www.w3.org/2000/svg",Pr="http://www.w3.org/1998/Math/MathML",tt=typeof document<"u"?document:null,q2=tt&&tt.createElement("template"),Tr={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const o=t==="svg"?tt.createElementNS(Ar,e):t==="mathml"?tt.createElementNS(Pr,e):s?tt.createElement(e,{is:s}):tt.createElement(e);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>tt.createTextNode(e),createComment:e=>tt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>tt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,o,r){const i=s?s.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===r||!(o=o.nextSibling)););else{q2.innerHTML=yn(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const l=q2.content;if(n==="svg"||n==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Br=Symbol("_vtc");function Rr(e,t,s){const n=e[Br];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Y2=Symbol("_vod"),Hr=Symbol("_vsh"),Fr=Symbol(""),Ir=/(^|;)\s*display\s*:/;function Or(e,t,s){const n=e.style,o=pe(s);let r=!1;if(s&&!o){if(t)if(pe(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();s[l]==null&&f0(n,l,"")}else for(const i in t)s[i]==null&&f0(n,i,"");for(const i in s)i==="display"&&(r=!0),f0(n,i,s[i])}else if(o){if(t!==s){const i=n[Fr];i&&(s+=";"+i),n.cssText=s,r=Ir.test(s)}}else t&&e.removeAttribute("style");Y2 in e&&(e[Y2]=r?n.display:"",e[Hr]&&(n.display="none"))}const X2=/\s*!important$/;function f0(e,t,s){if(V(s))s.forEach(n=>f0(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=$r(e,t);X2.test(s)?e.setProperty(Et(n),s.replace(X2,""),"important"):e[n]=s}}const G2=["Webkit","Moz","ms"],K0={};function $r(e,t){const s=K0[t];if(s)return s;let n=Ve(t);if(n!=="filter"&&n in e)return K0[t]=n;n=S0(n);for(let o=0;o<G2.length;o++){const r=G2[o]+n;if(r in e)return K0[t]=r}return t}const Q2="http://www.w3.org/1999/xlink";function J2(e,t,s,n,o,r=$n(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Q2,t.slice(6,t.length)):e.setAttributeNS(Q2,t,s):s==null||r&&!ms(s)?e.removeAttribute(t):e.setAttribute(t,r?"":mt(s)?String(s):s)}function es(e,t,s,n,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?yn(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,a=s==null?e.type==="checkbox"?"on":"":String(s);(l!==a||!("_value"in e))&&(e.value=a),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=ms(s):s==null&&l==="string"?(s="",i=!0):l==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(o||t)}function Vr(e,t,s,n){e.addEventListener(t,s,n)}function Dr(e,t,s,n){e.removeEventListener(t,s,n)}const ts=Symbol("_vei");function Zr(e,t,s,n,o=null){const r=e[ts]||(e[ts]={}),i=r[t];if(n&&i)i.value=n;else{const[l,a]=Ur(t);if(n){const f=r[t]=Wr(n,o);Vr(e,l,f,a)}else i&&(Dr(e,l,i,a),r[t]=void 0)}}const ss=/(?:Once|Passive|Capture)$/;function Ur(e){let t;if(ss.test(e)){t={};let n;for(;n=e.match(ss);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Et(e.slice(2)),t]}let q0=0;const jr=Promise.resolve(),Nr=()=>q0||(jr.then(()=>q0=0),q0=Date.now());function Wr(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Qe(zr(n,s.value),t,5,[n])};return s.value=e,s.attached=Nr(),s}function zr(e,t){if(V(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const ns=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Kr=(e,t,s,n,o,r)=>{const i=o==="svg";t==="class"?Rr(e,n,i):t==="style"?Or(e,s,n):x0(t)?u2(t)||Zr(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):qr(e,t,n,i))?(es(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&J2(e,t,n,i,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!pe(n))?es(e,Ve(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),J2(e,t,n,i))};function qr(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&ns(t)&&W(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return ns(t)&&pe(s)?!1:t in e}const Yr=["ctrl","shift","alt","meta"],Xr={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Yr.some(s=>e[`${s}Key`]&&!t.includes(s))},os=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(o,...r)=>{for(let i=0;i<t.length;i++){const l=Xr[t[i]];if(l&&l(o,t))return}return e(o,...r)})},Gr=Me({patchProp:Kr},Tr);let rs;function Qr(){return rs||(rs=tr(Gr))}const Jr=(...e)=>{const t=Qr().createApp(...e),{mount:s}=t;return t.mount=n=>{const o=t1(n);if(!o)return;const r=t._component;!W(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=s(o,!1,e1(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function e1(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function t1(e){return pe(e)?document.querySelector(e):e}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let _n;const F0=e=>_n=e,bn=Symbol();function r2(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Xt;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Xt||(Xt={}));function s1(){const e=_s(!0),t=e.run(()=>Ee({}));let s=[],n=[];const o=w2({install(r){F0(o),o._a=r,r.provide(bn,o),r.config.globalProperties.$pinia=o,n.forEach(i=>s.push(i)),n=[]},use(r){return this._a?s.push(r):n.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return o}const xn=()=>{};function is(e,t,s,n=xn){e.push(t);const o=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),n())};return!s&&bs()&&Vn(o),o}function At(e,...t){e.slice().forEach(s=>{s(...t)})}const n1=e=>e(),ls=Symbol(),Y0=Symbol();function i2(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],o=e[s];r2(o)&&r2(n)&&e.hasOwnProperty(s)&&!fe(n)&&!ot(n)?e[s]=i2(o,n):e[s]=n}return e}const o1=Symbol();function r1(e){return!r2(e)||!Object.prototype.hasOwnProperty.call(e,o1)}const{assign:ft}=Object;function i1(e){return!!(fe(e)&&e.effect)}function l1(e,t,s,n){const{state:o,actions:r,getters:i}=t,l=s.state.value[e];let a;function f(){l||(s.state.value[e]=o?o():{});const u=uo(s.state.value[e]);return ft(u,r,Object.keys(i||{}).reduce((c,g)=>(c[g]=w2(j(()=>{F0(s);const h=s._s.get(e);return i[g].call(h,h)})),c),{}))}return a=Ln(e,f,t,s,n,!0),a}function Ln(e,t,s={},n,o,r){let i;const l=ft({actions:{}},s),a={deep:!0};let f,u,c=[],g=[],h;const C=n.state.value[e];!r&&!C&&(n.state.value[e]={}),Ee({});let m;function w(F){let N;f=u=!1,typeof F=="function"?(F(n.state.value[e]),N={type:Xt.patchFunction,storeId:e,events:h}):(i2(n.state.value[e],F),N={type:Xt.patchObject,payload:F,storeId:e,events:h});const oe=m=Symbol();Zs().then(()=>{m===oe&&(f=!0)}),u=!0,At(c,N,n.state.value[e])}const E=r?function(){const{state:N}=s,oe=N?N():{};this.$patch(ee=>{ft(ee,oe)})}:xn;function D(){i.stop(),c=[],g=[],n._s.delete(e)}const Z=(F,N="")=>{if(ls in F)return F[Y0]=N,F;const oe=function(){F0(n);const ee=Array.from(arguments),ge=[],De=[];function ct(K){ge.push(K)}function Ce(K){De.push(K)}At(g,{args:ee,name:oe[Y0],store:O,after:ct,onError:Ce});let ae;try{ae=F.apply(this&&this.$id===e?this:O,ee)}catch(K){throw At(De,K),K}return ae instanceof Promise?ae.then(K=>(At(ge,K),K)).catch(K=>(At(De,K),Promise.reject(K))):(At(ge,ae),ae)};return oe[ls]=!0,oe[Y0]=N,oe},R={_p:n,$id:e,$onAction:is.bind(null,g),$patch:w,$reset:E,$subscribe(F,N={}){const oe=is(c,F,N.detached,()=>ee()),ee=i.run(()=>qt(()=>n.state.value[e],ge=>{(N.flush==="sync"?u:f)&&F({storeId:e,type:Xt.direct,events:h},ge)},ft({},a,N)));return oe},$dispose:D},O=A0(R);n._s.set(e,O);const X=(n._a&&n._a.runWithContext||n1)(()=>n._e.run(()=>(i=_s()).run(()=>t({action:Z}))));for(const F in X){const N=X[F];if(fe(N)&&!i1(N)||ot(N))r||(C&&r1(N)&&(fe(N)?N.value=C[F]:i2(N,C[F])),n.state.value[e][F]=N);else if(typeof N=="function"){const oe=Z(N,F);X[F]=oe,l.actions[F]=N}}return ft(O,X),ft(G(O),X),Object.defineProperty(O,"$state",{get:()=>n.state.value[e],set:F=>{w(N=>{ft(N,F)})}}),n._p.forEach(F=>{ft(O,i.run(()=>F({store:O,app:n._a,pinia:n,options:l})))}),C&&r&&s.hydrate&&s.hydrate(O.$state,C),f=!0,u=!0,O}/*! #__NO_SIDE_EFFECTS__ */function Je(e,t,s){let n;const o=typeof t=="function";n=o?s:t;function r(i,l){const a=qo();return i=i||(a?Kt(bn,null):null),i&&F0(i),i=_n,i._s.has(e)||(o?Ln(e,t,n,i):l1(e,n,i)),i._s.get(e)}return r.$id=e,r}function cs(e){const t=G(e),s={};for(const n in t){const o=t[n];o.effect?s[n]=j({get:()=>e[n],set(r){e[n]=r}}):(fe(o)||ot(o))&&(s[n]=ho(e,n))}return s}const Fe=Je("resources",{state:()=>({nutria:{amount:0,productionPerHour:0,consumptionPerHour:0,delta:0,producers:0,modifiers:[],sourceText:"Добывается на Биофермах",lore:"Высокобелковая биомасса, получаемая из местной флоры и синтез-бактерий. Запах — как у сырого пластика"},ferrolite:{amount:0,productionPerHour:0,consumptionPerHour:0,delta:0,producers:0,modifiers:[],sourceText:"Добывается Экстрактором",lore:"Осадочный железоникелевый материал, найденный в кратерах. Чистится вручную, ломает инструменты"},colonists:{amount:0,working:0,housing:0,lore:"Все мы здесь, чтобы строить новый мир"},morale:{amount:60,productionPerHour:0,consumptionPerHour:0,delta:0,modifiers:[],lore:"Когда-нибудь мы сможем не думать об успехе, а просто жить"},energy:{amount:0,productionPerHour:0,consumptionPerHour:0,delta:0,producers:0,lore:"Производится на геотермальных станциях, распределяется по всей инфраструктуре колонии."}}),getters:{hasWorkerShortage:e=>we().placedBuildings.some(s=>s.workers&&s.enabled!==!1&&s.status!=="На паузе"&&s.status!=="Отключено"&&s.workersAssigned<s.workers)},actions:{addNutria(e,t){const s=this.nutria.amount*3+this.ferrolite.amount,n=t-s,o=Math.max(0,Math.min(e,n/3));return this.nutria.amount+=o,this.nutria.amount<0&&(this.nutria.amount=0),this.nutria.delta+=o,o},addFerrolite(e,t){const s=this.nutria.amount*3+this.ferrolite.amount,n=t-s,o=Math.max(0,Math.min(e,n));return this.ferrolite.amount+=o,this.ferrolite.amount<0&&(this.ferrolite.amount=0),this.ferrolite.delta+=o,o},incrementResource(e,t){const s=this[e];s&&(s.amount+=t,s.amount<0&&(s.amount=0),s.delta=(s.delta||0)+t*2)},resetDeltas(){for(const e in this.$state)this[e].delta!==void 0&&(this[e].delta=0)},updateProductionStats(){var s,n,o;const e=we(),t={};for(const r in this.$state)this[r].producers!==void 0&&(this[r].producers=0),this[r].productionPerHour!==void 0&&(this[r].productionPerHour=0),this[r].consumptionPerHour!==void 0&&(this[r].consumptionPerHour=0);e.placedBuildings.forEach(r=>{let i=1;r.workers&&(!r.workersAssigned||r.workersAssigned===0?i=0:i=r.workersAssigned/r.workers),r.produces&&r.produces.forEach(l=>{t[l.resource]||(t[l.resource]={productionPerHour:0,consumptionPerHour:0,producers:0}),t[l.resource].productionPerHour+=l.amountPerHour*i,(r.workers&&i>0&&r.enabled!==!1&&r.status!=="На паузе"||!r.workers)&&(t[l.resource].producers+=1)}),r.consumes&&r.consumes.forEach(l=>{t[l.resource]||(t[l.resource]={productionPerHour:0,consumptionPerHour:0,producers:0}),t[l.resource].consumptionPerHour+=l.amountPerHour*i})});for(const r in this.$state)this[r].productionPerHour!==void 0&&(this[r].productionPerHour=((s=t[r])==null?void 0:s.productionPerHour)??0),this[r].consumptionPerHour!==void 0&&(this[r].consumptionPerHour=((n=t[r])==null?void 0:n.consumptionPerHour)??0),this[r].producers!==void 0&&(this[r].producers=((o=t[r])==null?void 0:o.producers)??0),this[r].productionPerHour!==void 0&&this[r].consumptionPerHour!==void 0&&(this[r].delta=this[r].productionPerHour-this[r].consumptionPerHour)}}}),we=Je("building",{state:()=>({placedBuildings:[]}),actions:{addBuilding(e){this.placedBuildings.push({...e,enabled:!0,infraEnabled:!0,status:void 0})},autoAssignWorkers(){let t=Fe().colonists.amount;const s={};for(const o of this.placedBuildings)s[o.id]=o.workersAssigned||0;for(const o of this.placedBuildings)o.workers&&(o.workersAssigned=0);const n=this.placedBuildings.filter(o=>o.enabled!==!1&&o.workers);for(const o of n)if(s[o.id]>0){const r=Math.min(s[o.id],o.workers,t);o.workersAssigned=r,t-=r}for(const o of n)if(o.workersAssigned<o.workers){const r=o.workers-o.workersAssigned,i=Math.min(r,t);o.workersAssigned+=i,t-=i}},toggleBuildingEnabled(e){const t=this.placedBuildings.find(s=>s.id===e);t&&t.type!=="drop-module"&&(t.enabled=!t.enabled,t.enabled===!1&&t.workers&&(t.workersAssigned=0),this.autoAssignWorkers())}}}),I0=Je("buildMode",{state:()=>({selectedBuildingId:null,active:!1,hoverX:null,hoverY:null,startCell:null,previewPath:[],rotation:0}),actions:{select(e){this.selectedBuildingId=e,this.active=!0,this.rotation=0},cancel(){this.selectedBuildingId=null,this.active=!1,this.hoverX=null,this.hoverY=null,this.rotation=0,this.startCell=null,this.previewPath=[]},setHover(e,t){this.hoverX=e,this.hoverY=t},clearHover(){this.hoverX=null,this.hoverY=null},rotateClockwise(){this.rotation=(this.rotation+90)%360},startSupplyDrag(e,t){this.active=!0,this.selectedBuildingId="supply-channel",this.startCell={x:e,y:t},this.previewPath=[]},clearSupplyDrag(){this.startCell=null,this.previewPath=[],this.selectedBuildingId=null,this.active=!1}}}),l2=Je("colonists",{state:()=>({total:0,free:0}),actions:{autoAssignAll(){const e=we();let t=this.free;e.placedBuildings.filter(s=>s.workers).sort((s,n)=>s.workersAssigned-n.workersAssigned).forEach(s=>{const n=s.workers-s.workersAssigned;if(n>0&&t>0){const o=Math.min(n,t);s.workersAssigned+=o,t-=o}}),this.free=t,this.updateWorkingStat()},recalculate(){const e=we();let t=0;e.placedBuildings.forEach(s=>{t+=s.workersAssigned||0}),this.free=Math.max(0,this.total-t),this.updateWorkingStat()},addColonists(e){this.total+=e,this.free+=e,this.autoAssignAll(),this.recalculate()},updateWorkingStat(){const e=we();let t=0;e.placedBuildings.forEach(n=>{n.workersAssigned&&(t+=n.workersAssigned)});const s=Fe();s.colonists&&(s.colonists.working=t,s.colonists.amount=this.total)}}}),Ht=[{id:"drop-module",name:"Дроп-модуль",category:"infrastructure",size:{w:3,h:3},cost:[],buildTime:3,storage:500,housing:10,consumes:[{resource:"nutria",amountPerHour:2}],produces:[{resource:"morale",amountPerHour:1}],requiresResourceCell:null,icon:new URL("data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.8%209.5H12.75V13.94L14.82%2011.87C14.97%2011.72%2015.16%2011.65%2015.35%2011.65C15.54%2011.65%2015.73%2011.72%2015.88%2011.87C16.17%2012.16%2016.17%2012.64%2015.88%2012.93L12.53%2016.28C12.24%2016.57%2011.76%2016.57%2011.47%2016.28L8.12%2012.93C7.83%2012.64%207.83%2012.16%208.12%2011.87C8.41%2011.58%208.89%2011.58%209.18%2011.87L11.25%2013.94V9.5H7.2C4%209.5%202%2011.5%202%2014.7V17.29C2%2020.5%204%2022.5%207.2%2022.5H16.79C19.99%2022.5%2021.99%2020.5%2021.99%2017.3V14.7C22%2011.5%2020%209.5%2016.8%209.5Z'%20fill='%237C6DFF'/%3e%3cpath%20d='M12.75%203.25C12.75%202.84%2012.41%202.5%2012%202.5C11.59%202.5%2011.25%202.84%2011.25%203.25V9.5H12.75V3.25Z'%20fill='%237C6DFF'/%3e%3c/svg%3e",import.meta.url).href,lore:"Дроп-модуль – результат адаптации архитектуры ранних космических рудников. Простой, функциональный, с минимальным интерфейсом вмешательства. Предназначен для посадки в нестабильных зонах и создания узла контроля до прибытия основной массы персонала. Самостоятельность критична. Если вы не верите, что выживете – останьтесь в капсуле"},{id:"extractor",name:"Экстрактор «Горьк»",category:"production",size:{w:3,h:2},cost:[{resource:"ferrolite",amount:45}],buildTime:3,workers:3,produces:[{resource:"ferrolite",amountPerHour:10}],consumes:[{resource:"energy",amountPerHour:25}],requiresResourceCell:"ferrolite",storage:200,storageCurrent:0,icon:new URL("data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.14%2010.4H12.75V15.88C12.75%2016.29%2012.41%2016.63%2012%2016.63C11.59%2016.63%2011.25%2016.29%2011.25%2015.88V10.4H2.86C2.38%2010.4%202%2010.78%202%2011.26C2%2017.15%206.11%2021.26%2012%2021.26C17.89%2021.26%2022%2017.15%2022%2011.26C22%2010.78%2021.62%2010.4%2021.14%2010.4Z'%20fill='%23EA7227'/%3e%3cpath%20d='M12.7499%206.30005L14.3099%207.86005C14.5999%208.15005%2015.0799%208.15005%2015.3699%207.86005C15.6599%207.57005%2015.6599%207.09005%2015.3699%206.80005L12.5199%203.96005C12.2299%203.67005%2011.7499%203.67005%2011.4599%203.96005L8.6199%206.81005C8.4799%206.96005%208.3999%207.15005%208.3999%207.34005C8.3999%207.53005%208.4699%207.72005%208.6199%207.87005C8.9099%208.16005%209.3899%208.16005%209.6799%207.87005L11.2399%206.31005V10.4001H12.7399V6.30005H12.7499Z'%20fill='%23EA7227'/%3e%3c/svg%3e",import.meta.url).href,lore:'Экстрактор спроектирован на основе промышленной документации корпорации "ArchExtract". Название выбрано персоналом при первой колонизации Аргуса-7, где смерть приходила с каждой осадкой. Подключение к ИИ не предусмотрено: шахта должна быть слепа к страху'},{id:"biofarm",name:"Биоферма М0Х-15",category:"production",size:{w:3,h:2},cost:[{resource:"ferrolite",amount:25}],buildTime:3,workers:2,produces:[{resource:"nutria",amountPerHour:5}],consumes:[{resource:"energy",amountPerHour:15}],requiresResourceCell:"nutria",storage:100,storageCurrent:0,icon:new URL("data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.19%202.5H7.81C4.17%202.5%202%204.67%202%208.31V16.68C2%2020.33%204.17%2022.5%207.81%2022.5H16.18C19.82%2022.5%2021.99%2020.33%2021.99%2016.69V8.31C22%204.67%2019.83%202.5%2016.19%202.5ZM12%2018.75C10.21%2018.75%208.81%2017.86%207.86%2016.98V17.69C7.86%2018.1%207.52%2018.44%207.11%2018.44C6.7%2018.44%206.36%2018.1%206.36%2017.69V14.94C6.36%2014.53%206.7%2014.19%207.11%2014.19H9.59C10%2014.19%2010.34%2014.53%2010.34%2014.94C10.34%2015.35%2010%2015.69%209.59%2015.69H8.69C9.43%2016.43%2010.58%2017.25%2012%2017.25C14.62%2017.25%2016.75%2015.12%2016.75%2012.5C16.75%2012.09%2017.09%2011.75%2017.5%2011.75C17.91%2011.75%2018.25%2012.09%2018.25%2012.5C18.25%2015.95%2015.45%2018.75%2012%2018.75ZM18.25%2010.04C18.25%2010.07%2018.25%2010.1%2018.25%2010.12C18.24%2010.23%2018.21%2010.33%2018.16%2010.42C18.11%2010.51%2018.04%2010.59%2017.95%2010.66C17.88%2010.71%2017.8%2010.75%2017.71%2010.78C17.64%2010.8%2017.57%2010.81%2017.5%2010.81H15.07C14.66%2010.81%2014.32%2010.47%2014.32%2010.06C14.32%209.65%2014.66%209.31%2015.07%209.31H15.9C15.1%208.57%2013.81%207.75%2012.02%207.75C9.4%207.75%207.27%209.88%207.27%2012.5C7.27%2012.91%206.93%2013.25%206.52%2013.25C6.11%2013.25%205.75%2012.91%205.75%2012.5C5.75%209.05%208.55%206.25%2012%206.25C14.15%206.25%2015.73%207.18%2016.75%208.07V7.31C16.75%206.9%2017.09%206.56%2017.5%206.56C17.91%206.56%2018.25%206.9%2018.25%207.31V10.04Z'%20fill='%23EA7227'/%3e%3c/svg%3e",import.meta.url).href,lore:'Первые версии биофермы использовались на Вольтовом спутнике для выращивания симбиотов. После ряда катастрофических случаев, его ограничили. Но проект "Ash Fall" — исключение. Если вы чувствуете, как растения смотрят — не беспокойтесь. Это лишь часть цикла роста'},{id:"supply-channel",name:"Канал снабжения",category:"logistics",size:{w:1,h:1},cost:[{resource:"ferrolite",amount:2}],consumes:[{resource:"energy",amountPerHour:.05}],buildTime:1,workers:0,icon:new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.999%2019.75H9.31896C8.15896%2019.75%207.14896%2019.05%206.74896%2017.97C6.33896%2016.89%206.63896%2015.7%207.50896%2014.93L15.499%207.94C15.979%207.52%2015.989%206.95%2015.849%206.56C15.699%206.17%2015.319%205.75%2014.679%205.75H11.999C11.589%205.75%2011.249%205.41%2011.249%205C11.249%204.59%2011.589%204.25%2011.999%204.25H14.679C15.839%204.25%2016.849%204.95%2017.249%206.03C17.659%207.11%2017.359%208.3%2016.489%209.07L8.49896%2016.06C8.01896%2016.48%208.00896%2017.05%208.14896%2017.44C8.29896%2017.83%208.67896%2018.25%209.31896%2018.25H11.999C12.409%2018.25%2012.749%2018.59%2012.749%2019C12.749%2019.41%2012.409%2019.75%2011.999%2019.75Z'%20fill='%2309A27E'/%3e%3cpath%20d='M19.9985%2015H16.9985C15.8985%2015%2014.9985%2015.9%2014.9985%2017V20C14.9985%2021.1%2015.8985%2022%2016.9985%2022H19.9985C21.0985%2022%2021.9985%2021.1%2021.9985%2020V17C21.9985%2015.9%2021.0985%2015%2019.9985%2015ZM18.5085%2019.5C17.9585%2019.5%2017.5085%2019.05%2017.5085%2018.5C17.5085%2017.95%2017.9485%2017.5%2018.5085%2017.5H18.5185C19.0685%2017.5%2019.5185%2017.95%2019.5185%2018.5C19.5185%2019.05%2019.0685%2019.5%2018.5085%2019.5Z'%20fill='%2309A27E'/%3e%3cpath%20d='M5.46875%202C3.53875%202%201.96875%203.57%201.96875%205.5C1.96875%207.43%203.53875%209%205.46875%209C7.39875%209%208.96875%207.43%208.96875%205.5C8.96875%203.57%207.40875%202%205.46875%202ZM5.50875%206.5C4.95875%206.5%204.50875%206.05%204.50875%205.5C4.50875%204.95%204.94875%204.5%205.50875%204.5H5.51875C6.06875%204.5%206.51875%204.95%206.51875%205.5C6.51875%206.05%206.06875%206.5%205.50875%206.5Z'%20fill='%2309A27E'/%3e%3c/svg%3e",import.meta.url).href},{id:"geo-plant",name:"Гео-станция «Горн»",category:"production",size:{w:4,h:3},workers:1,buildTime:4,cost:[{resource:"ferrolite",amount:120}],produces:[{resource:"energy",amountPerHour:120}],consumes:[{resource:"geothermal",amountPerHour:0}],requiresResourceCell:"geothermal",icon:new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.31994%2013.28H12.4099V20.48C12.4099%2021.54%2013.7299%2022.04%2014.4299%2021.24L21.9999%2012.64C22.6599%2011.89%2022.1299%2010.72%2021.1299%2010.72H18.0399V3.51997C18.0399%202.45997%2016.7199%201.95997%2016.0199%202.75997L8.44994%2011.36C7.79994%2012.11%208.32994%2013.28%209.31994%2013.28Z'%20fill='%23EA7227'/%3e%3cpath%20d='M8.5%204.75H1.5C1.09%204.75%200.75%204.41%200.75%204C0.75%203.59%201.09%203.25%201.5%203.25H8.5C8.91%203.25%209.25%203.59%209.25%204C9.25%204.41%208.91%204.75%208.5%204.75Z'%20fill='%23EA7227'/%3e%3cpath%20d='M7.5%2020.75H1.5C1.09%2020.75%200.75%2020.41%200.75%2020C0.75%2019.59%201.09%2019.25%201.5%2019.25H7.5C7.91%2019.25%208.25%2019.59%208.25%2020C8.25%2020.41%207.91%2020.75%207.5%2020.75Z'%20fill='%23EA7227'/%3e%3cpath%20d='M4.5%2012.75H1.5C1.09%2012.75%200.75%2012.41%200.75%2012C0.75%2011.59%201.09%2011.25%201.5%2011.25H4.5C4.91%2011.25%205.25%2011.59%205.25%2012C5.25%2012.41%204.91%2012.75%204.5%2012.75Z'%20fill='%23EA7227'/%3e%3c/svg%3e",import.meta.url).href,lore:"Проект «Горн» активирован только в условиях отсутствия альтернатив. Станция извлекает жар через пьезоконтактную сетку, которую нельзя отключить без разрушения ядра. Согласно тех-протоколу, вы не должны находиться в радиусе 200 м во время активации. Но вы ведь и так не уйдете. "},{id:"echo",name:"Узел «Эхо»",category:"research",size:{w:1,h:1},workers:1,buildTime:2,cost:[{resource:"ferrolite",amount:80}],consumes:[{resource:"energy",amountPerHour:5}],icon:new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.2502%203.89998V12.92C11.2502%2013.25%2011.0902%2013.55%2010.8202%2013.74L3.61017%2018.79C3.02017%2019.2%202.18017%2018.88%202.05017%2018.17C1.90017%2017.31%202.10017%2016.3%202.70017%2015.21L5.82017%209.59998L8.76017%204.30998C8.99017%203.89998%209.24017%203.53998%209.50017%203.22998C10.1002%202.52998%2011.2502%202.97998%2011.2502%203.89998Z'%20fill='%23AF4CE9'/%3e%3cpath%20d='M20.39%2018.79L13.18%2013.74C12.91%2013.55%2012.75%2013.25%2012.75%2012.92V3.89998C12.75%202.97998%2013.9%202.52998%2014.5%203.22998C14.76%203.53998%2015.01%203.89998%2015.24%204.30998L18.18%209.59998L21.3%2015.21C21.9%2016.3%2022.1%2017.31%2021.95%2018.17C21.82%2018.88%2020.98%2019.2%2020.39%2018.79Z'%20fill='%23AF4CE9'/%3e%3cpath%20d='M5.26018%2019.14L11.4102%2015.04C11.7402%2014.82%2012.2802%2014.82%2012.6102%2015.04L18.7602%2019.14C20.3902%2020.23%2020.1202%2021.12%2018.1602%2021.12H5.85018C3.90018%2021.11%203.63018%2020.22%205.26018%2019.14Z'%20fill='%23AF4CE9'/%3e%3c/svg%3e",import.meta.url).href,lore:"«Эхо» — остаточный продукт военного проекта. Передаёт не только данные, но и ощущение. Когда вы активируете канал, возможно, вы узнаете голос. Это нормально. Мы все когда-то были частью команды."}],_0={nutria:3,ferrolite:1};function M2(e){var s;let t=0;for(const n in _0)((s=e[n])==null?void 0:s.amount)!=null&&(t+=e[n].amount*_0[n]);return t}const b0=Je("logisticsTasks",{state:()=>({tasks:[]}),actions:{createTask(e,t,s,n){var o;this.tasks.push({id:((o=crypto.randomUUID)==null?void 0:o.call(crypto))||Math.random().toString(36).slice(2),resource:e,amount:t,from:s,to:n,status:"waiting",assignedBotId:null,loadingQueue:[],unloadingQueue:[]})},assignTask(e){const t=this.tasks.find(s=>s.status==="waiting"&&!s.assignedBotId);return t?(t.status="assigned",t.assignedBotId=e,t.loadingQueue.push(e),t):null},getTask(e){return this.tasks.find(t=>t.id===e)},isQueueHead(e,t,s){const n=this.getTask(e);if(!n)return!1;const o=s==="from"?n.loadingQueue:n.unloadingQueue;return o.length>0&&o[0]===t},getQueuePos(e,t,s){const n=this.getTask(e);return n?(t==="from"?n.loadingQueue:n.unloadingQueue).indexOf(s):null},afterLoaded(e,t){const s=this.getTask(e);s&&(s.loadingQueue=s.loadingQueue.filter(n=>n!==t),s.unloadingQueue.push(t))},completeTask(e,t){const s=this.tasks.findIndex(n=>n.id===e);if(s!==-1){const n=we(),o=Fe(),r=n.placedBuildings.find(i=>i.id===this.tasks[s].to);if(r&&r.type==="drop-module"){const i=r.storage??0,l=M2(o),a=_0[t.resource],f=Math.floor((i-l)/a),u=Math.min(t.amount,f);u>0&&o.incrementResource(t.resource,u)}else r&&r.storageCurrent!=null&&(r.storageCurrent+=t.amount);this.tasks.splice(s,1)}}}}),S2=Je("opBots",{state:()=>({bots:[],maxBots:3,homeBaseId:null,botSpeed:1}),actions:{init(e){var n;this.homeBaseId=e,this.bots=[];const t=St(),s=(n=t.getBuildingOrigin)==null?void 0:n.call(t,e);for(let o=0;o<this.maxBots;o++)this.bots.push({id:"op-"+(o+1),state:"idle",pos:s?{...s}:{x:0,y:0},drawX:s.x,drawY:s.y,taskId:null,route:[],progress:0,routeLength:0,routeProgress:0,moveTime:0,moveDuration:0,loadTimer:0,unloadTimer:0,queuePos:null,carried:null,angle:0,targetAngle:0})},updateBots(e){var i,l,a,f,u;const t=b0(),s=St(),n=this.botSpeed;function o(c){if(!c.route||c.route.length<2)return c.angle||0;const g=Math.floor(c.progress),h=c.route[g],C=c.route[g+1];if(!h||!C)return c.angle||0;const m=C.x-h.x,w=C.y-h.y;return Math.atan2(w,m)*180/Math.PI}function r(c,g,h){let C=(g-c+540)%360-180;return c+C*h}for(const c of this.bots){const g=Math.min(1,e/1e3*n);if(c.drawX+=(c.pos.x-c.drawX)*g,c.drawY+=(c.pos.y-c.drawY)*g,Math.abs(c.drawX-c.pos.x)<.01&&(c.drawX=c.pos.x),Math.abs(c.drawY-c.pos.y)<.01&&(c.drawY=c.pos.y),c.state==="idle"){const h=t.assignTask(c.id);if(h){const C=(i=s.getBuildingOrigin)==null?void 0:i.call(s,this.homeBaseId),m=(l=s.getBuildingOrigin)==null?void 0:l.call(s,h.from);if(!C||!m)continue;const w=s.findPath(C,m);if(!w||w.length===0)continue;c.taskId=h.id,c.state="toSource",c.progress=0,c.route=w,c.routeProgress=0,c.moveTime=0,c.routeLength=0;for(let E=1;E<w.length;E++)c.routeLength+=Math.hypot(w[E].x-w[E-1].x,w[E].y-w[E-1].y);c.moveDuration=c.routeLength/this.botSpeed*1e3,c.pos={...c.route[0]},c.drawX=c.pos.x,c.drawY=c.pos.y}}else if(c.state==="toSource"){if(!c.route||c.route.length===0){c.state="idle",c.taskId=null;continue}if(c.progress+=e/700*this.botSpeed,c.progress>=c.route.length-1)c.pos={...c.route[c.route.length-1]},c.state="loading",c.loadTimer=0;else{const h=Math.floor(c.progress);c.pos={...c.route[h]}}}else if(c.state==="loading"){if(!t.isQueueHead(c.taskId,c.id,"from")){c.queuePos=t.getQueuePos(c.taskId,"from",c.id);continue}if(c.loadTimer+=e,c.loadTimer>=1800){const h=t.getTask(c.taskId);if(!h){c.state="idle",c.taskId=null;continue}c.carried={resource:h.resource,amount:h.amount},t.afterLoaded(c.taskId,c.id),c.state="toDest";const C=(a=s.getBuildingOrigin)==null?void 0:a.call(s,h.from),m=(f=s.getBuildingOrigin)==null?void 0:f.call(s,h.to);if(!C||!m){c.state="idle",c.taskId=null;continue}const w=s.findPath(C,m);if(!w||w.length===0){c.state="idle",c.taskId=null;continue}c.route=w,c.progress=0,c.pos={...c.route[0]},c.drawX=c.pos.x,c.drawY=c.pos.y}}else if(c.state==="toDest"){if(!c.route||c.route.length===0){c.state="idle",c.taskId=null;continue}if(c.progress+=e/700*this.botSpeed,c.progress>=c.route.length-1)c.pos={...c.route[c.route.length-1]},c.state="unloading",c.unloadTimer=0;else{const h=Math.floor(c.progress);c.pos={...c.route[h]}}}else if(c.state==="unloading"){if(!t.isQueueHead(c.taskId,c.id,"to")){c.queuePos=t.getQueuePos(c.taskId,"to",c.id);continue}if(c.unloadTimer+=e,c.unloadTimer>=1800){t.completeTask(c.taskId,c.carried),c.state="returning";const h=c.pos,C=(u=s.getBuildingOrigin)==null?void 0:u.call(s,this.homeBaseId);if(!h||!C){c.state="idle",c.taskId=null;continue}const m=s.findPath(h,C);if(!m||m.length===0){c.state="idle",c.taskId=null;continue}c.route=m,c.progress=0,c.carried=null,c.pos={...c.route[0]},c.drawX=c.pos.x,c.drawY=c.pos.y}}else if(c.state==="returning"){if(!c.route||c.route.length===0){c.state="idle",c.taskId=null;continue}if(c.progress+=e/700*this.botSpeed,c.progress>=c.route.length-1)c.pos={...c.route[c.route.length-1]},c.state="idle",c.taskId=null;else{const h=Math.floor(c.progress);c.pos={...c.route[h]}}}c.targetAngle=o(c),typeof c.angle!="number"&&(c.angle=c.targetAngle),c.angle=r(c.angle,c.targetAngle,Math.min(1,e/1))}}}}),St=Je("map",{state:()=>{const o=Math.floor(25),r=Math.floor(50/2),i=o-Math.floor(11/2),l=r-Math.floor(11/2);return{width:50,height:50,accessibleCells:new Set(Array.from({length:11},(a,f)=>Array.from({length:11},(u,c)=>`${i+c},${l+f}`)).flat()),mapData:[],initialDropBuilt:!1}},actions:{initializeMap(){this.mapData=[];for(let e=0;e<this.height;e++){const t=[];for(let s=0;s<this.width;s++)t.push({x:s,y:e,accessible:this.accessibleCells.has(`${s},${e}`),resource:null,module:null,barrier:null});this.mapData.push(t)}this.updateModuleConnections()},generateGeothermalSource(){const e=[];for(let s=0;s<this.height;s++)for(let n=0;n<this.width;n++){const o=this.mapData[s][n];o.accessible&&!o.resource&&!o.barrier&&!o.module&&e.push(o)}if(e.length===0)return;const t=Math.floor(Math.random()*e.length);e[t].resource={type:"geothermal",amount:1/0,icon:new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.2402%209.51998L20.9502%2014.23C21.2302%2014.51%2021.7202%2014.36%2021.8002%2013.97C21.9302%2013.33%2022.0002%2012.67%2022.0002%2012C22.0002%209.70998%2021.2202%207.59998%2019.9302%205.91998C19.7502%205.67998%2019.3902%205.66998%2019.1802%205.87998L16.2402%208.81998C16.0502%209.00998%2016.0502%209.32998%2016.2402%209.51998Z'%20fill='%23E85C5C'/%3e%3cpath%20d='M14.4801%2010.58L12.7101%2012.35C12.5101%2012.55%2012.5101%2012.86%2012.7101%2013.06L18.5301%2018.88C18.7301%2019.08%2019.0501%2019.08%2019.2401%2018.88C19.8601%2018.23%2020.3901%2017.5%2020.8201%2016.71C20.9201%2016.52%2020.8801%2016.27%2020.7301%2016.12L15.1901%2010.58C14.9901%2010.39%2014.6701%2010.39%2014.4801%2010.58Z'%20fill='%23E85C5C'/%3e%3cpath%20d='M10.9398%2014.12L9.17979%2015.88C8.97979%2016.08%208.97979%2016.39%209.17979%2016.59L14.0998%2021.52C14.2298%2021.65%2014.4198%2021.7%2014.5898%2021.65C15.5198%2021.4%2016.3998%2021.02%2017.1998%2020.52C17.4698%2020.35%2017.5098%2019.97%2017.2798%2019.74L11.6498%2014.11C11.4498%2013.93%2011.1298%2013.93%2010.9398%2014.12Z'%20fill='%23E85C5C'/%3e%3cpath%20d='M18.0802%204.07004C16.1002%202.54004%2013.5302%201.74003%2010.7702%202.07003C6.26016%202.61003%202.61016%206.27004%202.07016%2010.77C1.74016%2013.53%202.54016%2016.09%204.07016%2018.08C4.25016%2018.32%204.61016%2018.33%204.82016%2018.12L18.1202%204.82004C18.3302%204.61004%2018.3202%204.25004%2018.0802%204.07004Z'%20fill='%23E85C5C'/%3e%3cpath%20d='M7.40023%2017.67L5.88023%2019.19C5.67023%2019.4%205.68023%2019.76%205.92023%2019.94C7.43023%2021.11%209.28023%2021.85%2011.3102%2021.99C11.7402%2022.02%2011.9502%2021.51%2011.6402%2021.2L8.11023%2017.67C7.92023%2017.47%207.60023%2017.47%207.40023%2017.67Z'%20fill='%23E85C5C'/%3e%3c/svg%3e",import.meta.url).href}},generateInitialResources(e=5){const t={nutria:new URL("data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.9555%207.28524L16.5146%206.0144C16.8267%205.85686%2016.9099%205.44725%2016.6707%205.19518C15.7448%204.16591%2014.8086%203.30468%2014.0596%202.6535C13.7163%202.35942%2013.2065%202.60099%2013.2065%203.05261V6.81262C13.2065%207.20122%2013.6123%207.45329%2013.9555%207.28524Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.2065%2020.2351V21.968C13.2065%2022.2831%2013.4874%2022.5457%2013.7995%2022.4932C16.6394%2022.0205%2019.0113%2020.0985%2020.1348%2017.5148C20.3324%2017.0737%2019.8539%2016.6326%2019.417%2016.8426L13.4978%2019.7729C13.321%2019.857%2013.2065%2020.0355%2013.2065%2020.2351Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M11.6461%203.03156C11.6461%202.57994%2011.1364%202.33838%2010.7931%202.62195C8.33802%204.70151%203.97927%209.08118%204.00007%2014.1015C4.00007%2018.3237%207.05848%2021.8211%2011.0531%2022.4933C11.3652%2022.5458%2011.6461%2022.2832%2011.6461%2021.9681V3.03156Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.9242%2012.5997L19.4273%2010.2681C19.7082%2010.1421%2019.8434%209.81647%2019.7082%209.5434C19.3233%208.7767%2018.8759%208.031%2018.387%207.33781C18.2414%207.12775%2017.9709%207.06474%2017.742%207.16977L13.4873%209.25982C13.3105%209.34385%2013.196%209.5329%2013.196%209.73245V12.1166C13.2064%2012.4842%2013.5809%2012.7468%2013.9242%2012.5997Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.5717%2014.5321C20.7381%2014.4481%2020.8422%2014.2905%2020.8422%2014.112C20.8422%2013.4398%2020.7589%2012.7781%2020.6133%2012.127C20.5405%2011.8119%2020.1972%2011.6438%2019.9059%2011.7699L13.5186%2014.5216C13.3314%2014.6056%2013.2065%2014.7947%2013.2065%2015.0047V17.3154C13.2065%2017.704%2013.6123%2017.956%2013.9555%2017.788L20.0932%2014.7737L20.5717%2014.5321Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href,ferrolite:new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.51%205.01L14.55%203.05C13.15%201.65%2010.85%201.65%209.45001%203.05L7.49001%205.01C7.10001%205.4%207.10001%206.04%207.49001%206.43L11.3%2010.24C11.69%2010.63%2012.32%2010.63%2012.71%2010.24L16.52%206.43C16.9%206.04%2016.9%205.4%2016.51%205.01Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M5.01%207.49001L3.05%209.45001C1.65%2010.85%201.65%2013.15%203.05%2014.55L5.01%2016.51C5.4%2016.9%206.03%2016.9%206.42%2016.51L10.23%2012.7C10.62%2012.31%2010.62%2011.68%2010.23%2011.29L6.43%207.49001C6.04%207.10001%205.4%207.10001%205.01%207.49001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.9498%209.45001L18.9898%207.49001C18.5998%207.10001%2017.9698%207.10001%2017.5798%207.49001L13.7698%2011.3C13.3798%2011.69%2013.3798%2012.32%2013.7698%2012.71L17.5798%2016.52C17.9698%2016.91%2018.5998%2016.91%2018.9898%2016.52L20.9498%2014.56C22.3498%2013.15%2022.3498%2010.85%2020.9498%209.45001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M7.49005%2018.99L9.45005%2020.95C10.8501%2022.35%2013.1501%2022.35%2014.5501%2020.95L16.5101%2018.99C16.9001%2018.6%2016.9001%2017.97%2016.5101%2017.58L12.7001%2013.77C12.3101%2013.38%2011.6801%2013.38%2011.2901%2013.77L7.48005%2017.58C7.10005%2017.96%207.10005%2018.6%207.49005%2018.99Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href},s=[];for(let f=0;f<this.height;f++)for(let u=0;u<this.width;u++){const c=this.mapData[f][u];c.accessible&&(s.push(c),c.resource=null)}if(s.length<e){console.warn("Недостаточно доступных ячеек для ресурсов");return}const n=[],o=new Set;for(;n.length<e&&n.length<s.length;){const f=Math.floor(Math.random()*s.length);o.has(f)||(o.add(f),n.push(s[f]))}let r=0;for(let f=0;f<n.length;f++){let u="nutria";r<2&&Math.random()<.5&&(u="ferrolite",r++);const c=u==="ferrolite"?Math.floor(Math.random()*681)+120:Math.floor(Math.random()*41)+60;n[f].resource={type:u,amount:c,icon:t[u]}}const i=8,l=[],a=new Set;for(;l.length<i&&l.length<s.length;){const f=Math.floor(Math.random()*s.length),u=s[f];!a.has(f)&&!u.resource&&(a.add(f),l.push(u))}for(const f of l)f.barrier=!0;this.generateGeothermalSource()},isWithinMap(e,t){return e>=0&&e<this.width&&t>=0&&t<this.height},getBuildError(e,t,s){var n,o,r;if(["extractor","biofarm"].includes(s.id)&&!we().placedBuildings.some(l=>l.type==="drop-module"))return"Сначала постройте Дроп-модуль";for(let i=0;i<s.size.h;i++)for(let l=0;l<s.size.w;l++){const a=(n=this.mapData[t+i])==null?void 0:n[e+l];if(!a)return"За пределами карты";if(!a.accessible)return`Ячейка недоступна (${e+l},${t+i})`;if(a.module)return"Уже занято другим зданием или каналом";if(a.barrier)return"Барьеры на пути";if(a.resource&&a.resource.type!==s.requiresResourceCell)return"На ячейке чужой ресурс"}if(s.requiresResourceCell){let i=!1;for(let l=0;l<s.size.h;l++)for(let a=0;a<s.size.w;a++){const f=(o=this.mapData[t+l])==null?void 0:o[e+a];((r=f==null?void 0:f.resource)==null?void 0:r.type)===s.requiresResourceCell&&(i=!0)}if(!i)return"Нет нужного месторождения под зданием"}return null},canBuildAt(e,t,s){return!this.getBuildError(e,t,s)},placeBuilding(e,t,s){var u,c,g,h;if(!this.canBuildAt(e,t,s))return this.getBuildError(e,t,s)||"Нельзя строить здесь";const n=Fe();let o=null;if(s.cost&&s.cost.length>0){for(const{resource:C,amount:m}of s.cost)if(!n[C]||n[C].amount<m){o=`Недостаточно ресурса "${C}": нужно ${m}, есть ${((u=n[C])==null?void 0:u.amount)??0}`;break}}if(o)return o;let r=!0;if(s.cost&&s.cost.length>0){for(const{resource:C,amount:m}of s.cost)if(!n[C]||n[C].amount<m){r=!1;break}}if(!r)return console.log("Недостаточно ресурсов для постройки"),!1;const i=Date.now(),l=s.buildTime||10;let a=0;if(s.requiresResourceCell)for(let C=0;C<s.size.h;C++)for(let m=0;m<s.size.w;m++){const w=(c=this.mapData[t+C])==null?void 0:c[e+m];((g=w==null?void 0:w.resource)==null?void 0:g.type)===s.requiresResourceCell&&(a+=w.resource.amount||0)}const f={...s,size:s.size,icon:s.icon,name:s.name,category:s.category,workers:s.workers,workersAssigned:0,storage:s.storage,housing:s.housing,consumes:s.consumes,produces:s.produces,resourceTotal:a,type:s.id,id:((h=crypto.randomUUID)==null?void 0:h.call(crypto))||Math.random().toString(36).slice(2),status:"underConstruction",constructionStartedAt:i,buildDuration:l,pendingCost:s.cost?[...s.cost]:[],originX:e,originY:t,width:s.size.w,height:s.size.h,enabled:!0,infraEnabled:!1};for(let C=0;C<s.size.h;C++)for(let m=0;m<s.size.w;m++){const w=m===0&&C===0;this.mapData[t+C][e+m].module={...f,isOrigin:w}}return this.updateModuleConnections(),!0},expandAccessibleArea(e,t,s,n,o=2){for(let r=-o;r<n+o;r++)for(let i=-o;i<s+o;i++){const l=e+i,a=t+r;i>=0&&i<s&&r>=0&&r<n||this.isWithinMap(l,a)&&(this.mapData[a][l].accessible=!0)}},removeBuilding(e){const t=we(),s=l2();Fe();const n=t.placedBuildings.find(o=>o.id===e);if(n){if(n.type==="drop-module"){alert("Дроп-модуль нельзя удалить!");return}for(let o=0;o<n.height;o++)for(let r=0;r<n.width;r++){const i=n.originX+r,l=n.originY+o,a=this.mapData[l][i];a&&a.module&&a.module.id===e&&(a.module=null)}n.workersAssigned&&(s.free+=n.workersAssigned),t.placedBuildings=t.placedBuildings.filter(o=>o.id!==e),s.autoAssignAll(),s.recalculate(),this.updateModuleConnections()}},finishConstruction(){const e=Fe(),t=we(),s=l2(),n=S2();for(const o of this.mapData)for(const r of o){const i=r.module;if(i&&i.status==="underConstruction"&&(Date.now()-i.constructionStartedAt)/1e3>=i.buildDuration)if(i.isOrigin){let a=!0;for(const{resource:f,amount:u}of i.pendingCost)if(!e[f]||e[f].amount<u){a=!1;break}if(a){for(const{resource:f,amount:u}of i.pendingCost)e[f].amount-=u,e[f].amount<0&&(e[f].amount=0);t.addBuilding({...i,status:"built"}),this.expandAccessibleArea(i.originX,i.originY,i.width,i.height),i.type==="drop-module"&&!this.initialDropBuilt&&(e.nutria.amount=50,e.ferrolite.amount=200,e.colonists.amount=10,s.total=10,s.free=10,s.autoAssignAll(),s.recalculate(),this.initialDropBuilt=!0,console.log("Bots before init:",n.bots),n.init(i.id),console.log("bots after init",JSON.parse(JSON.stringify(n.bots))),console.log("INIT BOTS (built drop-module)",i.id)),i.status="built",i.pendingCost=[],s.autoAssignAll(),s.recalculate()}}else{const a=this.mapData[i.originY][i.originX].module;a&&a.status==="built"&&(i.status="built",i.pendingCost=[])}}this.updateModuleConnections()},cancelConstruction(e){var t;for(let s=0;s<this.height;s++)for(let n=0;n<this.width;n++){const o=(t=this.mapData[s][n])==null?void 0:t.module;o&&o.id===e&&o.status==="underConstruction"&&(this.mapData[s][n].module=null)}this.updateModuleConnections()},findPath(e,t){const s=this.width,n=this.height,o=Array.from({length:n},()=>Array(s).fill(!1)),r=[],i=Array.from({length:n},()=>Array(s).fill(null));r.push({x:e.x,y:e.y}),o[e.y][e.x]=!0;const l=[{dx:1,dy:0},{dx:-1,dy:0},{dx:0,dy:1},{dx:0,dy:-1}];for(;r.length>0;){const{x:a,y:f}=r.shift();if(a===t.x&&f===t.y){let u=[],c={x:a,y:f};for(;c;)u.push(c),c=i[c.y][c.x];return u.reverse()}for(const{dx:u,dy:c}of l){const g=a+u,h=f+c;if(g>=0&&g<s&&h>=0&&h<n&&!o[h][g]){const C=this.mapData[h][g];if(!C.accessible)continue;const m=g===t.x&&h===t.y;C.barrier||C.resource&&!C.module||C.module&&C.module.type!=="supply-channel"&&!m||(o[h][g]=!0,i[h][g]={x:a,y:f},r.push({x:g,y:h}))}}}return this.updateModuleConnections(),null},placeSupplyChannel(e){var r;const t=Fe(),s=Ht.find(i=>i.id==="supply-channel");if(!s)return;let n={};for(const i of s.cost||[])n[i.resource]=(n[i.resource]||0)+i.amount*e.length;for(const i in n)if(!t[i]||t[i].amount<n[i])return alert(`Недостаточно ресурса: ${i}`),!1;for(const i in n)t[i].amount-=n[i],t[i].amount<0&&(t[i].amount=0);const o=((r=crypto.randomUUID)==null?void 0:r.call(crypto))||Math.random().toString(36).slice(2);for(const i of e){const l=this.mapData[i.y][i.x];l.accessible&&(l.module||(l.module={id:o,type:"supply-channel",status:"built",isOrigin:!1,icon:s.icon}))}return this.updateModuleConnections(),!0},findConnectedModules(){const e=this.width,t=this.height,s=Array.from({length:t},()=>Array(e).fill(!1)),n=new Set,o=[];for(let a=0;a<t;a++)for(let f=0;f<e;f++){const u=this.mapData[a][f];u.module&&u.module.type==="drop-module"&&o.push({x:f,y:a})}const r=[...o];for(const{x:a,y:f}of r){s[f][a]=!0;const u=this.mapData[f][a].module;u&&u.type!=="supply-channel"&&n.add(u.id)}const i=[{dx:1,dy:0},{dx:-1,dy:0},{dx:0,dy:1},{dx:0,dy:-1}];let l=0;for(;l<r.length;){const{x:a,y:f}=r[l++];for(const{dx:u,dy:c}of i){const g=a+u,h=f+c;if(g>=0&&g<e&&h>=0&&h<t&&!s[h][g]){const C=this.mapData[h][g];C.module&&(C.module.type==="supply-channel"||C.module.type!=="supply-channel")&&(s[h][g]=!0,r.push({x:g,y:h}),C.module.type!=="supply-channel"&&n.add(C.module.id))}}}return this.updateModuleConnections(),n},updateModuleConnections(){const e=we(),t=Array.from({length:this.height},()=>Array(this.width).fill(!1)),s=[];for(let l=0;l<this.height;l++)for(let a=0;a<this.width;a++){const f=this.mapData[l][a];f.module&&f.module.type==="drop-module"&&s.push({x:a,y:l})}if(s.length===0)return;const n=[...s];for(const{x:l,y:a}of s)t[a][l]=!0;for(;n.length;){const{x:l,y:a}=n.shift();for(const[f,u]of[[1,0],[-1,0],[0,1],[0,-1]]){const c=l+f,g=a+u;if(c>=0&&c<this.width&&g>=0&&g<this.height&&!t[g][c]){const h=this.mapData[g][c].module;h&&(h.type==="supply-channel"||!["supply-channel","drop-module"].includes(h.type))&&(t[g][c]=!0,n.push({x:c,y:g}))}}}for(let l=0;l<this.height;l++)for(let a=0;a<this.width;a++){const f=this.mapData[l][a];if(f.module){f.module.type==="drop-module"||f.module.type==="supply-channel"?f.module.infraEnabled=!0:f.module.infraEnabled=t[l][a];const u=e.placedBuildings.find(c=>c.id===f.module.id);u&&(u.infraEnabled=f.module.infraEnabled)}}const o=Array.from({length:this.height},()=>Array(this.width).fill(!1)),r=[];for(let l=0;l<this.height;l++)for(let a=0;a<this.width;a++){const f=this.mapData[l][a];f.module&&f.module.type==="geo-plant"&&r.push({x:a,y:l})}const i=[...r];for(const{x:l,y:a}of r)o[a][l]=!0;for(;i.length;){const{x:l,y:a}=i.shift();for(const[f,u]of[[1,0],[-1,0],[0,1],[0,-1]]){const c=l+f,g=a+u;if(c>=0&&c<this.width&&g>=0&&g<this.height&&!o[g][c]){const h=this.mapData[g][c].module;h&&(h.type==="supply-channel"||h.type!=="drop-module"&&h.type!=="supply-channel")&&(o[g][c]=!0,i.push({x:c,y:g}))}}}for(let l=0;l<this.height;l++)for(let a=0;a<this.width;a++){const f=this.mapData[l][a];if(f.module){f.module.type==="geo-plant"?f.module.powerEnabled=!0:f.module.type==="drop-module"?f.module.powerEnabled=!1:f.module.powerEnabled=o[l][a];const u=e.placedBuildings.find(c=>c.id===f.module.id);u&&(u.powerEnabled=f.module.powerEnabled)}}},removeSupplyChannel(e,t){const s=this.mapData[t][e];s.module&&s.module.type==="supply-channel"&&(s.module=null,this.updateModuleConnections())},getBuildingOrigin(e){for(let t=0;t<this.height;t++)for(let s=0;s<this.width;s++){const n=this.mapData[t][s];if(n.module&&n.module.id===e&&n.module.isOrigin)return{x:s,y:t}}for(let t=0;t<this.height;t++)for(let s=0;s<this.width;s++){const n=this.mapData[t][s];if(n.module&&n.module.id===e)return{x:s,y:t}}return null}}}),Mn=Je("time",()=>{const e=Ee(1),t=Ee(1),s=Ee(12),n=Ee(0),o=Ee(1);let r=null;function i(){n.value++,n.value>=60&&(n.value=0,s.value++,s.value>=24&&(s.value=0,t.value++,t.value>7&&(t.value=1,e.value++)))}function l(){if(a(),o.value===0)return;const u=6e4/(o.value*120);r=setInterval(()=>{i()},u)}function a(){r&&(clearInterval(r),r=null)}function f(){a(),e.value=1,t.value=1,s.value=12,n.value=0,o.value=1}return qt(o,()=>{l()}),{week:e,sol:t,hour:s,minute:n,speed:o,startTimer:l,stopTimer:a,reset:f,setSpeed:u=>{o.value=u}}}),c1=Je("game",{state:()=>({lastTick:performance.now()}),actions:{startLoop(){const e=Mn(),t=s=>{const n=s-this.lastTick;this.lastTick=s;const o=e.speed;o>0&&this.processTick(n*o),requestAnimationFrame(t)};requestAnimationFrame(t)},processTick(e){const t=we(),s=Fe(),n=St(),o=S2();b0(),n.finishConstruction(),t.autoAssignWorkers();const r=e/(1e3/2),i=t.placedBuildings.find(u=>u.type==="drop-module");i==null||i.storage;let l=0,a=0;t.placedBuildings.forEach(u=>{var c,g;if(u.type==="geo-plant"){let h=1;u.workers&&(!u.workersAssigned||u.workersAssigned===0?h=0:h=u.workersAssigned/u.workers);const C=(((g=(c=u.produces)==null?void 0:c.find(m=>m.resource==="energy"))==null?void 0:g.amountPerHour)||0)*h;l+=C}else u.powerEnabled!==!1&&(u.produces&&u.produces.forEach(h=>{h.resource==="energy"&&(l+=h.amountPerHour)}),u.consumes&&u.consumes.forEach(h=>{h.resource==="energy"&&(a+=h.amountPerHour)}))});const f=l-a;s.energy.productionPerHour=l,s.energy.consumptionPerHour=a,s.energy.delta=f,t.placedBuildings.forEach(u=>{var g,h,C,m,w;let c=1;if(u.workers&&(!u.workersAssigned||u.workersAssigned===0?c=0:c=u.workersAssigned/u.workers),u.type==="geo-plant"){u.workers&&u.workersAssigned===0?u.status="Нет свободных колонистов":u.status="Работает";return}if(u.enabled===!1){u.workers&&(u.workersAssigned=0),u.status="Отключено";return}if(u.infraEnabled===!1){u.workers&&(u.workersAssigned=0),u.status="Нет подключения к дроп модулю";return}if(u.type!=="drop-module"&&u.consumes&&u.consumes.some(E=>E.resource==="energy")&&u.powerEnabled===!1){u.workers&&(u.workersAssigned=0),u.status="Нет подключения к электросети";return}if(u.type!=="drop-module"&&u.consumes&&u.consumes.some(E=>E.resource==="energy")&&f<0){u.workers&&(u.workersAssigned=0),u.status="Недостаточно энергии";return}if(u.category==="production"&&u.requiresResourceCell){let E=0,D=[];for(let F=0;F<u.height;F++)for(let N=0;N<u.width;N++){const oe=u.originX+N,ee=u.originY+F,ge=n.mapData[ee][oe];((g=ge==null?void 0:ge.resource)==null?void 0:g.type)===u.requiresResourceCell&&(D.push(ge),E+=ge.resource.amount)}const Z=(((C=(h=u.produces)==null?void 0:h[0])==null?void 0:C.amountPerHour)||0)*c,R=Math.min(E,Z*(r/60)),O=u.storage-u.storageCurrent,de=Math.max(0,Math.min(R,O));u.storageCurrent+=de;let X=de;for(const F of D){if(X<=0)break;const N=Math.min(F.resource.amount,X);F.resource.amount-=N,X-=N}u.category==="production"&&u.requiresResourceCell&&(u.storage==null&&(u.storage=200),u.storageCurrent==null&&(u.storageCurrent=0),u.storageCurrent>=10&&this.tryCreateLogisticsTask(u)),D.length===0||D.every(F=>F.resource.amount<=0)?u.status="Месторождение истощено":c===0?u.status="На паузе":O<=0?u.status="Хранилище модуля переполнено":u.status="Работает"}else(m=u.produces)==null||m.forEach(E=>{if(E.resource!=="energy"){const D=E.amountPerHour*(r/60)*c;s.incrementResource(E.resource,D)}}),(w=u.consumes)==null||w.forEach(E=>{if(E.resource!=="energy"){const D=E.amountPerHour*(r/60)*c;s.incrementResource(E.resource,-D)}}),u.workers&&(u.workersAssigned===0?u.status="Нет свободных колонистов":u.status="Работает")}),s.updateProductionStats(),o.updateBots(e)},tryCreateLogisticsTask(e){var u;const t=b0(),s=we(),n=Fe(),o=s.placedBuildings.find(c=>c.type==="drop-module");if(!o)return;const r=o.storage??0;let i=M2(n),l=r-i,a=[];if(e.category==="production"&&e.requiresResourceCell)for(let c=0;c<e.height;c++)for(let g=0;g<e.width;g++){const h=e.originX+g,C=e.originY+c,m=St().mapData[C][h];((u=m==null?void 0:m.resource)==null?void 0:u.type)===e.requiresResourceCell&&a.push(m)}const f=a.length===0&&e.storageCurrent>0?e.storageCurrent:10;for(;e.storageCurrent>=f&&l>0;){const c=e.produces[0].resource,g=_0[c],h=Math.floor(l/g),C=Math.min(e.storageCurrent,50,h);if(C<=0)break;t.createTask(c,C,e.id,o.id),e.storageCurrent-=C,l-=C*g}}}}),Ae=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s},u1={class:"stage"},a1={key:0},f1=["src"],d1={__name:"OpBotTooltip",props:{bot:Object,left:Number,top:Number},setup(e){const t=we(),s=b0(),n=e,o={left:`${n.left}px`,top:`${n.top}px`,background:"#1e1f25ee",color:"#fff",fontSize:"12px",borderRadius:"10px",padding:"8px 12px",border:"1.5px solid #50d6b6cc",zIndex:2e3,pointerEvents:"none",width:"200px"},r={idle:"Ожидание",toSource:"Едет к источнику",loading:"Загрузка",toDest:"В пути",unloading:"Разгрузка",returning:"Возвращается"};function i(c){return c==="nutria"?new URL("data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.9555%207.28524L16.5146%206.0144C16.8267%205.85686%2016.9099%205.44725%2016.6707%205.19518C15.7448%204.16591%2014.8086%203.30468%2014.0596%202.6535C13.7163%202.35942%2013.2065%202.60099%2013.2065%203.05261V6.81262C13.2065%207.20122%2013.6123%207.45329%2013.9555%207.28524Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.2065%2020.2351V21.968C13.2065%2022.2831%2013.4874%2022.5457%2013.7995%2022.4932C16.6394%2022.0205%2019.0113%2020.0985%2020.1348%2017.5148C20.3324%2017.0737%2019.8539%2016.6326%2019.417%2016.8426L13.4978%2019.7729C13.321%2019.857%2013.2065%2020.0355%2013.2065%2020.2351Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M11.6461%203.03156C11.6461%202.57994%2011.1364%202.33838%2010.7931%202.62195C8.33802%204.70151%203.97927%209.08118%204.00007%2014.1015C4.00007%2018.3237%207.05848%2021.8211%2011.0531%2022.4933C11.3652%2022.5458%2011.6461%2022.2832%2011.6461%2021.9681V3.03156Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.9242%2012.5997L19.4273%2010.2681C19.7082%2010.1421%2019.8434%209.81647%2019.7082%209.5434C19.3233%208.7767%2018.8759%208.031%2018.387%207.33781C18.2414%207.12775%2017.9709%207.06474%2017.742%207.16977L13.4873%209.25982C13.3105%209.34385%2013.196%209.5329%2013.196%209.73245V12.1166C13.2064%2012.4842%2013.5809%2012.7468%2013.9242%2012.5997Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.5717%2014.5321C20.7381%2014.4481%2020.8422%2014.2905%2020.8422%2014.112C20.8422%2013.4398%2020.7589%2012.7781%2020.6133%2012.127C20.5405%2011.8119%2020.1972%2011.6438%2019.9059%2011.7699L13.5186%2014.5216C13.3314%2014.6056%2013.2065%2014.7947%2013.2065%2015.0047V17.3154C13.2065%2017.704%2013.6123%2017.956%2013.9555%2017.788L20.0932%2014.7737L20.5717%2014.5321Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href:c==="ferrolite"?new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.51%205.01L14.55%203.05C13.15%201.65%2010.85%201.65%209.45001%203.05L7.49001%205.01C7.10001%205.4%207.10001%206.04%207.49001%206.43L11.3%2010.24C11.69%2010.63%2012.32%2010.63%2012.71%2010.24L16.52%206.43C16.9%206.04%2016.9%205.4%2016.51%205.01Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M5.01%207.49001L3.05%209.45001C1.65%2010.85%201.65%2013.15%203.05%2014.55L5.01%2016.51C5.4%2016.9%206.03%2016.9%206.42%2016.51L10.23%2012.7C10.62%2012.31%2010.62%2011.68%2010.23%2011.29L6.43%207.49001C6.04%207.10001%205.4%207.10001%205.01%207.49001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.9498%209.45001L18.9898%207.49001C18.5998%207.10001%2017.9698%207.10001%2017.5798%207.49001L13.7698%2011.3C13.3798%2011.69%2013.3798%2012.32%2013.7698%2012.71L17.5798%2016.52C17.9698%2016.91%2018.5998%2016.91%2018.9898%2016.52L20.9498%2014.56C22.3498%2013.15%2022.3498%2010.85%2020.9498%209.45001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M7.49005%2018.99L9.45005%2020.95C10.8501%2022.35%2013.1501%2022.35%2014.5501%2020.95L16.5101%2018.99C16.9001%2018.6%2016.9001%2017.97%2016.5101%2017.58L12.7001%2013.77C12.3101%2013.38%2011.6801%2013.38%2011.2901%2013.77L7.48005%2017.58C7.10005%2017.96%207.10005%2018.6%207.49005%2018.99Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href:c==="energy"?new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.91%2010.72H14.82V3.52002C14.82%201.84002%2013.91%201.50002%2012.8%202.76002L12%203.67002L5.23001%2011.37C4.30001%2012.42%204.69001%2013.28%206.09001%2013.28H9.18001V20.48C9.18001%2022.16%2010.09%2022.5%2011.2%2021.24L12%2020.33L18.77%2012.63C19.7%2011.58%2019.31%2010.72%2017.91%2010.72Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href:""}function l(c){const g=t.placedBuildings.find(h=>h.id===c);return(g==null?void 0:g.name)||"—"}const a=j(()=>{var c;return(c=n.bot)!=null&&c.taskId?s.getTask(n.bot.taskId):null}),f=j(()=>{var c;return l((c=a.value)==null?void 0:c.from)}),u=j(()=>{var c;return l((c=a.value)==null?void 0:c.to)});return(c,g)=>(k(),T("div",{class:"opbot-tooltip",style:o},[M("div",null,[M("b",null,"Бот #"+z(e.bot.id),1)]),M("div",null,[g[0]||(g[0]=Le("Стадия: ")),M("span",u1,z(r[e.bot.state]||e.bot.state),1)]),e.bot.carried?(k(),T("div",a1,[g[1]||(g[1]=Le(" Везёт: ")),M("img",{src:i(e.bot.carried.resource),style:{width:"15px","vertical-align":"middle"}},null,8,f1),Le(" "+z(Math.floor(e.bot.carried.amount)),1)])):ne("",!0),M("div",null,[g[2]||(g[2]=Le("Откуда: ")),M("b",null,z(f.value),1)]),M("div",null,[g[3]||(g[3]=Le("Куда: ")),M("b",null,z(u.value),1)])]))}},h1=Ae(d1,[["__scopeId","data-v-db054681"]]),p1=["src"],g1={key:0,class:"cargo-icon"},C1=["src"],m1={key:1,style:{position:"absolute",left:"0",top:"0"}},us=34,as=34,at=58,v1={__name:"OpBot",props:{bot:Object},setup(e){const t=e,s=Ee(!1);function n(){s.value=!s.value}function o(){s.value=!1}function r(c){return c==="nutria"?new URL("data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.9555%207.28524L16.5146%206.0144C16.8267%205.85686%2016.9099%205.44725%2016.6707%205.19518C15.7448%204.16591%2014.8086%203.30468%2014.0596%202.6535C13.7163%202.35942%2013.2065%202.60099%2013.2065%203.05261V6.81262C13.2065%207.20122%2013.6123%207.45329%2013.9555%207.28524Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.2065%2020.2351V21.968C13.2065%2022.2831%2013.4874%2022.5457%2013.7995%2022.4932C16.6394%2022.0205%2019.0113%2020.0985%2020.1348%2017.5148C20.3324%2017.0737%2019.8539%2016.6326%2019.417%2016.8426L13.4978%2019.7729C13.321%2019.857%2013.2065%2020.0355%2013.2065%2020.2351Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M11.6461%203.03156C11.6461%202.57994%2011.1364%202.33838%2010.7931%202.62195C8.33802%204.70151%203.97927%209.08118%204.00007%2014.1015C4.00007%2018.3237%207.05848%2021.8211%2011.0531%2022.4933C11.3652%2022.5458%2011.6461%2022.2832%2011.6461%2021.9681V3.03156Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.9242%2012.5997L19.4273%2010.2681C19.7082%2010.1421%2019.8434%209.81647%2019.7082%209.5434C19.3233%208.7767%2018.8759%208.031%2018.387%207.33781C18.2414%207.12775%2017.9709%207.06474%2017.742%207.16977L13.4873%209.25982C13.3105%209.34385%2013.196%209.5329%2013.196%209.73245V12.1166C13.2064%2012.4842%2013.5809%2012.7468%2013.9242%2012.5997Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.5717%2014.5321C20.7381%2014.4481%2020.8422%2014.2905%2020.8422%2014.112C20.8422%2013.4398%2020.7589%2012.7781%2020.6133%2012.127C20.5405%2011.8119%2020.1972%2011.6438%2019.9059%2011.7699L13.5186%2014.5216C13.3314%2014.6056%2013.2065%2014.7947%2013.2065%2015.0047V17.3154C13.2065%2017.704%2013.6123%2017.956%2013.9555%2017.788L20.0932%2014.7737L20.5717%2014.5321Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href:c==="ferrolite"?new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.51%205.01L14.55%203.05C13.15%201.65%2010.85%201.65%209.45001%203.05L7.49001%205.01C7.10001%205.4%207.10001%206.04%207.49001%206.43L11.3%2010.24C11.69%2010.63%2012.32%2010.63%2012.71%2010.24L16.52%206.43C16.9%206.04%2016.9%205.4%2016.51%205.01Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M5.01%207.49001L3.05%209.45001C1.65%2010.85%201.65%2013.15%203.05%2014.55L5.01%2016.51C5.4%2016.9%206.03%2016.9%206.42%2016.51L10.23%2012.7C10.62%2012.31%2010.62%2011.68%2010.23%2011.29L6.43%207.49001C6.04%207.10001%205.4%207.10001%205.01%207.49001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.9498%209.45001L18.9898%207.49001C18.5998%207.10001%2017.9698%207.10001%2017.5798%207.49001L13.7698%2011.3C13.3798%2011.69%2013.3798%2012.32%2013.7698%2012.71L17.5798%2016.52C17.9698%2016.91%2018.5998%2016.91%2018.9898%2016.52L20.9498%2014.56C22.3498%2013.15%2022.3498%2010.85%2020.9498%209.45001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M7.49005%2018.99L9.45005%2020.95C10.8501%2022.35%2013.1501%2022.35%2014.5501%2020.95L16.5101%2018.99C16.9001%2018.6%2016.9001%2017.97%2016.5101%2017.58L12.7001%2013.77C12.3101%2013.38%2011.6801%2013.38%2011.2901%2013.77L7.48005%2017.58C7.10005%2017.96%207.10005%2018.6%207.49005%2018.99Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href:c==="energy"?new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.91%2010.72H14.82V3.52002C14.82%201.84002%2013.91%201.50002%2012.8%202.76002L12%203.67002L5.23001%2011.37C4.30001%2012.42%204.69001%2013.28%206.09001%2013.28H9.18001V20.48C9.18001%2022.16%2010.09%2022.5%2011.2%2021.24L12%2020.33L18.77%2012.63C19.7%2011.58%2019.31%2010.72%2017.91%2010.72Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href:""}const i=new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16%201.75C16.6861%201.75%2017.25%202.31386%2017.25%203C17.25%203.68614%2016.6861%204.25%2016%204.25H8C7.31386%204.25%206.75%203.68614%206.75%203C6.75%202.31386%207.31386%201.75%208%201.75H16Z'%20fill='%2309A27E'%20stroke='%23D8BDFF'/%3e%3cpath%20d='M16%2019.75C16.6861%2019.75%2017.25%2020.3139%2017.25%2021C17.25%2021.6861%2016.6861%2022.25%2016%2022.25H8C7.31386%2022.25%206.75%2021.6861%206.75%2021C6.75%2020.3139%207.31386%2019.75%208%2019.75H16Z'%20fill='%2309A27E'%20stroke='%23D8BDFF'/%3e%3cpath%20d='M15.5%204.5C16.7426%204.5%2017.7672%204.81214%2018.4775%205.52246C19.1879%206.23278%2019.5%207.25739%2019.5%208.5V15.5C19.5%2016.7426%2019.1879%2017.7672%2018.4775%2018.4775C17.7672%2019.1879%2016.7426%2019.5%2015.5%2019.5H8.5C7.25739%2019.5%206.23278%2019.1879%205.52246%2018.4775C4.81214%2017.7672%204.5%2016.7426%204.5%2015.5V8.5C4.5%207.25739%204.81214%206.23278%205.52246%205.52246C6.23278%204.81214%207.25739%204.5%208.5%204.5H15.5Z'%20fill='%2309A27E'%20stroke='%23D8BDFF'/%3e%3c/svg%3e",import.meta.url).href,l=j(()=>{var m,w;if(!((m=t.bot)!=null&&m.route)||t.bot.route.length<2)return(w=t.bot)!=null&&w.pos?t.bot.pos:{x:0,y:0};const c=Math.floor(t.bot.progress),g=t.bot.progress-c,h=t.bot.route[c],C=t.bot.route[c+1]||h;return{x:h.x+(C.x-h.x)*g,y:h.y+(C.y-h.y)*g}}),a=j(()=>l.value.x*at+at/2+8),f=j(()=>l.value.y*at+at/2-56),u=j(()=>{var c;return(c=t.bot)!=null&&c.pos?{position:"absolute",left:`${l.value.x*at+at/2-us/2}px`,top:`${l.value.y*at+at/2-as/2}px`,width:`${us}px`,height:`${as}px`,zIndex:1999,transition:"none"}:{display:"none"}});return j(()=>{var D;if(!((D=t.bot)!=null&&D.route)||t.bot.route.length<2)return 0;const c=Math.floor(t.bot.progress),g=t.bot.route[c],h=t.bot.route[c+1];if(!g||!h)return 0;const C=h.x-g.x,m=h.y-g.y;return Math.atan2(m,C)*180/Math.PI}),(c,g)=>{const h=$o("click-outside");return k(),T("div",{class:"opbot",style:Ze(u.value),onClick:n},[M("img",{src:ue(i),class:"opbot-icon",style:Ze({transform:`rotate(${t.bot.angle}deg)`})},null,12,p1),e.bot.carried?(k(),T("div",g1,[M("img",{src:r(e.bot.carried.resource)},null,8,C1),M("span",null,z(Math.floor(e.bot.carried.amount)),1)])):ne("",!0),s.value?bo((k(),T("div",m1,[he(h1,{bot:t.bot,left:a.value,top:f.value},null,8,["bot","left","top"])])),[[h,o]]):ne("",!0)],4)}}},w1=Ae(v1,[["__scopeId","data-v-ba1ad9a0"]]),y1="modulepreload",_1=function(e){return"/ash-fall-mvp/"+e},fs={},b1=function(t,s,n){let o=Promise.resolve();if(s&&s.length>0){let i=function(f){return Promise.all(f.map(u=>Promise.resolve(u).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),a=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=i(s.map(f=>{if(f=_1(f),f in fs)return;fs[f]=!0;const u=f.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${c}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":y1,u||(g.as="script"),g.crossOrigin="",g.href=f,a&&g.setAttribute("nonce",a),document.head.appendChild(g),u)return new Promise((h,C)=>{g.addEventListener("load",h),g.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${f}`)))})}))}function r(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},x1="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.47738%201.47733C1.89581%201.05901%202.55756%201.03312%203.00641%201.3992L3.09346%201.47733L7.99975%206.38362L12.906%201.47733L12.9931%201.3992C13.442%201.03322%2014.1037%201.05896%2014.5221%201.47733C14.9401%201.89576%2014.9662%202.55763%2014.6002%203.00636L14.5221%203.09342L9.61583%207.99971L14.5221%2012.906L14.6002%2012.9931C14.9659%2013.4419%2014.9403%2014.1038%2014.5221%2014.5221C14.1038%2014.9404%2013.442%2014.9659%2012.9931%2014.6002L12.906%2014.5221L7.99975%209.61579L3.09346%2014.5221L3.00641%2014.6002C2.55768%2014.9662%201.89582%2014.9401%201.47738%2014.5221C1.05896%2014.1037%201.03314%2013.4419%201.39925%2012.9931L1.47738%2012.906L6.38367%207.99971L1.47738%203.09342L1.39925%203.00636C1.03314%202.55747%201.05896%201.89575%201.47738%201.47733Z'%20fill='%23E85C5C'/%3e%3c/svg%3e",i0=Je("tooltip",{state:()=>({visible:!1,x:0,y:0,component:null,pinned:!1}),actions:{show(e,t,s,n=!1){this.x=e,this.y=t,this.component=s,this.visible=!0,this.pinned=n},hide(){this.pinned||(this.visible=!1,this.component=null)},forceHide(){this.visible=!1,this.component=null,this.pinned=!1}}}),L1={class:"tooltip-content"},M1={class:"label"},S1={class:"stata"},E1={class:"stata"},k1={class:"stata"},A1={key:0,class:"green stata"},P1={key:1,class:"red stata"},T1={key:2,class:"stata"},B1={class:"lore"},R1={__name:"ResourceTooltip",props:{resource:Object,label:String},setup(e){const t=e;Fe();const s=we();l2();const n=j(()=>t.label==="Колонисты"),o=j(()=>t.resource.amount??0),r=j(()=>s.placedBuildings.reduce((h,C)=>C.enabled!==!1&&C.workers?h+C.workers:h,0)),i=j(()=>s.placedBuildings.reduce((h,C)=>C.enabled!==!1&&C.workersAssigned?h+C.workersAssigned:h,0)),l=j(()=>o.value-i.value),a=j(()=>s.placedBuildings.reduce((h,C)=>h+(C.housing||0),0)),f=j(()=>s.placedBuildings.reduce((h,C)=>{if(!C.produces||C.enabled===!1||C.status==="На паузе")return h;const m=C.produces.find(E=>E.resource===t.resource.key);if(!m)return h;let w=1;return C.workers&&(w=C.workersAssigned&&C.workers?C.workersAssigned/C.workers:0),w===0?h:h+m.amountPerHour*w},0)),u=j(()=>s.placedBuildings.reduce((h,C)=>{if(!C.consumes||C.enabled===!1||C.status==="На паузе")return h;const m=C.consumes.find(E=>E.resource===t.resource.key);if(!m)return h;let w=1;return C.workers&&(w=C.workersAssigned&&C.workers?C.workersAssigned/C.workers:0),w===0?h:h+m.amountPerHour*w},0)),c=j(()=>s.placedBuildings.filter(h=>h.produces&&h.produces.some(C=>C.resource===t.resource.key)).length);function g(h){return h===void 0||isNaN(h)?"0":h%1===0?h:h.toFixed(1)}return(h,C)=>(k(),T("div",L1,[M("div",M1,[M("b",null,z(e.label),1)]),n.value?(k(),T(le,{key:0},[M("div",S1," Требуется: "+z(r.value),1),M("div",E1," Свободно: "+z(l.value),1),M("div",k1," Жильё: "+z(a.value),1)],64)):(k(),T(le,{key:1},[f.value>0?(k(),T("div",A1," Производство: +"+z(g(f.value))+"/ч ",1)):ne("",!0),u.value>0?(k(),T("div",P1," Потребление: –"+z(g(u.value))+"/ч ",1)):ne("",!0),c.value>0?(k(),T("div",T1," Зданий: "+z(c.value),1)):ne("",!0)],64)),M("div",B1,z(t.resource.lore),1)]))}},Sn=Ae(R1,[["__scopeId","data-v-1a9c46f0"]]);function H1(e,t){return t%180===0?{...e}:{w:e.h,h:e.w}}const F1=["src"],I1={key:1,class:"supply-preview-dot"},O1={key:0},$1=["src"],V1={key:0,class:"resource-count"},D1={key:1,class:"icon-wrapper"},Z1=["src"],U1={class:"construction-progress"},j1=["value"],N1={key:0,class:"waiting-res"},W1={key:1,class:"timer"},z1=["src"],K1={__name:"Cell",props:{x:Number,y:Number,accessible:Boolean,resource:Object,barrier:Boolean,module:Object},setup(e){var je,vt;const t=St(),s=I0(),n=i0(),o=we(),r=Fe(),i=Ee(""),l=e,a=j(()=>l.module&&l.module.type==="supply-channel"),f=(je=Ht.find(B=>B.id==="supply-channel"))==null?void 0:je.icon,u=((vt=Ht.find(B=>B.id==="supply-channel"))==null?void 0:vt.category)??"logistics",c=De(u),g=j(()=>s.active&&s.selectedBuildingId==="supply-channel"&&s.previewPath&&s.previewPath.length?s.previewPath.some(B=>B.x===l.x&&B.y===l.y):!1),h=Ee(Date.now());let C=null;It(()=>{C=setInterval(()=>{h.value=Date.now()},200)}),o0(()=>{clearInterval(C)});const m=j(()=>{if(!l.module||!l.module.id)return null;for(let B=0;B<t.height;B++)for(let $=0;$<t.width;$++){const q=t.mapData[B][$].module;if(q&&q.id===l.module.id&&q.isOrigin)return q}return l.module}),w=j(()=>{var B;return(B=l.module)==null?void 0:B.isOrigin}),E=j(()=>{const B=m.value;if(!B||B.status!=="underConstruction")return 0;const $=(h.value-B.constructionStartedAt)/1e3;return Math.min($/B.buildDuration,1)}),D=j(()=>{const B=m.value;if(!B||B.status!=="underConstruction")return"";const $=(h.value-B.constructionStartedAt)/1e3,q=Math.ceil(B.buildDuration-$);return q>0?q:0}),Z=j(()=>{var q;const B=m.value;return!B||B.status!=="underConstruction"||(h.value-B.constructionStartedAt)/1e3<B.buildDuration?!1:(q=B.pendingCost)==null?void 0:q.some(({resource:Ie,amount:wt})=>{var Oe;return((Oe=r[Ie])==null?void 0:Oe.amount)<wt})});function R(){l.module&&l.module.id&&t.cancelConstruction(l.module.id)}const O={nutria:"Нутрий",ferrolite:"Ферролит",geothermal:"Термо Источник"};function de(B){return B==="nutria"?new URL("data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.9555%207.28524L16.5146%206.0144C16.8267%205.85686%2016.9099%205.44725%2016.6707%205.19518C15.7448%204.16591%2014.8086%203.30468%2014.0596%202.6535C13.7163%202.35942%2013.2065%202.60099%2013.2065%203.05261V6.81262C13.2065%207.20122%2013.6123%207.45329%2013.9555%207.28524Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.2065%2020.2351V21.968C13.2065%2022.2831%2013.4874%2022.5457%2013.7995%2022.4932C16.6394%2022.0205%2019.0113%2020.0985%2020.1348%2017.5148C20.3324%2017.0737%2019.8539%2016.6326%2019.417%2016.8426L13.4978%2019.7729C13.321%2019.857%2013.2065%2020.0355%2013.2065%2020.2351Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M11.6461%203.03156C11.6461%202.57994%2011.1364%202.33838%2010.7931%202.62195C8.33802%204.70151%203.97927%209.08118%204.00007%2014.1015C4.00007%2018.3237%207.05848%2021.8211%2011.0531%2022.4933C11.3652%2022.5458%2011.6461%2022.2832%2011.6461%2021.9681V3.03156Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.9242%2012.5997L19.4273%2010.2681C19.7082%2010.1421%2019.8434%209.81647%2019.7082%209.5434C19.3233%208.7767%2018.8759%208.031%2018.387%207.33781C18.2414%207.12775%2017.9709%207.06474%2017.742%207.16977L13.4873%209.25982C13.3105%209.34385%2013.196%209.5329%2013.196%209.73245V12.1166C13.2064%2012.4842%2013.5809%2012.7468%2013.9242%2012.5997Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.5717%2014.5321C20.7381%2014.4481%2020.8422%2014.2905%2020.8422%2014.112C20.8422%2013.4398%2020.7589%2012.7781%2020.6133%2012.127C20.5405%2011.8119%2020.1972%2011.6438%2019.9059%2011.7699L13.5186%2014.5216C13.3314%2014.6056%2013.2065%2014.7947%2013.2065%2015.0047V17.3154C13.2065%2017.704%2013.6123%2017.956%2013.9555%2017.788L20.0932%2014.7737L20.5717%2014.5321Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href:B==="ferrolite"?new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.51%205.01L14.55%203.05C13.15%201.65%2010.85%201.65%209.45001%203.05L7.49001%205.01C7.10001%205.4%207.10001%206.04%207.49001%206.43L11.3%2010.24C11.69%2010.63%2012.32%2010.63%2012.71%2010.24L16.52%206.43C16.9%206.04%2016.9%205.4%2016.51%205.01Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M5.01%207.49001L3.05%209.45001C1.65%2010.85%201.65%2013.15%203.05%2014.55L5.01%2016.51C5.4%2016.9%206.03%2016.9%206.42%2016.51L10.23%2012.7C10.62%2012.31%2010.62%2011.68%2010.23%2011.29L6.43%207.49001C6.04%207.10001%205.4%207.10001%205.01%207.49001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.9498%209.45001L18.9898%207.49001C18.5998%207.10001%2017.9698%207.10001%2017.5798%207.49001L13.7698%2011.3C13.3798%2011.69%2013.3798%2012.32%2013.7698%2012.71L17.5798%2016.52C17.9698%2016.91%2018.5998%2016.91%2018.9898%2016.52L20.9498%2014.56C22.3498%2013.15%2022.3498%2010.85%2020.9498%209.45001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M7.49005%2018.99L9.45005%2020.95C10.8501%2022.35%2013.1501%2022.35%2014.5501%2020.95L16.5101%2018.99C16.9001%2018.6%2016.9001%2017.97%2016.5101%2017.58L12.7001%2013.77C12.3101%2013.38%2011.6801%2013.38%2011.2901%2013.77L7.48005%2017.58C7.10005%2017.96%207.10005%2018.6%207.49005%2018.99Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href:B==="geothermal"?new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.2402%209.51998L20.9502%2014.23C21.2302%2014.51%2021.7202%2014.36%2021.8002%2013.97C21.9302%2013.33%2022.0002%2012.67%2022.0002%2012C22.0002%209.70998%2021.2202%207.59998%2019.9302%205.91998C19.7502%205.67998%2019.3902%205.66998%2019.1802%205.87998L16.2402%208.81998C16.0502%209.00998%2016.0502%209.32998%2016.2402%209.51998Z'%20fill='%23E85C5C'/%3e%3cpath%20d='M14.4801%2010.58L12.7101%2012.35C12.5101%2012.55%2012.5101%2012.86%2012.7101%2013.06L18.5301%2018.88C18.7301%2019.08%2019.0501%2019.08%2019.2401%2018.88C19.8601%2018.23%2020.3901%2017.5%2020.8201%2016.71C20.9201%2016.52%2020.8801%2016.27%2020.7301%2016.12L15.1901%2010.58C14.9901%2010.39%2014.6701%2010.39%2014.4801%2010.58Z'%20fill='%23E85C5C'/%3e%3cpath%20d='M10.9398%2014.12L9.17979%2015.88C8.97979%2016.08%208.97979%2016.39%209.17979%2016.59L14.0998%2021.52C14.2298%2021.65%2014.4198%2021.7%2014.5898%2021.65C15.5198%2021.4%2016.3998%2021.02%2017.1998%2020.52C17.4698%2020.35%2017.5098%2019.97%2017.2798%2019.74L11.6498%2014.11C11.4498%2013.93%2011.1298%2013.93%2010.9398%2014.12Z'%20fill='%23E85C5C'/%3e%3cpath%20d='M18.0802%204.07004C16.1002%202.54004%2013.5302%201.74003%2010.7702%202.07003C6.26016%202.61003%202.61016%206.27004%202.07016%2010.77C1.74016%2013.53%202.54016%2016.09%204.07016%2018.08C4.25016%2018.32%204.61016%2018.33%204.82016%2018.12L18.1202%204.82004C18.3302%204.61004%2018.3202%204.25004%2018.0802%204.07004Z'%20fill='%23E85C5C'/%3e%3cpath%20d='M7.40023%2017.67L5.88023%2019.19C5.67023%2019.4%205.68023%2019.76%205.92023%2019.94C7.43023%2021.11%209.28023%2021.85%2011.3102%2021.99C11.7402%2022.02%2011.9502%2021.51%2011.6402%2021.2L8.11023%2017.67C7.92023%2017.47%207.60023%2017.47%207.40023%2017.67Z'%20fill='%23E85C5C'/%3e%3c/svg%3e",import.meta.url).href:""}function X(B){if(s.active&&s.selectedBuildingId==="supply-channel"&&s.startCell&&!(s.startCell.x===l.x&&s.startCell.y===l.y)){const $=t.findPath(s.startCell,{x:l.x,y:l.y});s.previewPath=$}if(s.active&&s.selectedBuildingId&&s.selectedBuildingId!=="supply-channel"&&s.setHover(l.x,l.y),!l.module&&l.resource){const q=B.currentTarget.getBoundingClientRect(),Ie=q.left+q.width/2,wt=q.top-32,Oe=O[l.resource.type]||"",ut=xt(Sn,{resource:l.resource,label:Oe});n.show(Ie,wt,ut,!1)}}function F(){s.clearHover(),n.pinned||n.hide()}async function N(){var B;if(!(!l.accessible||l.barrier)){if(s.active&&s.selectedBuildingId==="supply-channel"){if(!s.startCell){s.startSupplyDrag(l.x,l.y),s.previewPath=[];return}if(s.startCell.x===l.x&&s.startCell.y===l.y){s.clearSupplyDrag(),s.previewPath=[];return}s.previewPath&&s.previewPath.length>1&&t.placeSupplyChannel(s.previewPath),s.clearSupplyDrag(),s.previewPath=[];return}if(s.active&&s.selectedBuildingId&&s.selectedBuildingId!=="supply-channel"){const $=ee.value;if(!$)return;const q=t.placeBuilding(l.x,l.y,$);q===!0?s.cancel():typeof q=="string"&&(n.show(l.x*58+32,l.y*58,xt("div",{style:"color:#ff6b6b"},q),!1),setTimeout(()=>n.hide(),2500))}if((B=l.module)!=null&&B.isOrigin&&l.module.status==="built"){const $=event.currentTarget.getBoundingClientRect(),q=$.left+$.width/2,Ie=$.top-32,wt=(await b1(async()=>{const{default:ut}=await import("./BuildingTooltip-BUcMjYJ_.js");return{default:ut}},__vite__mapDeps([0,1]))).default,Oe=xt(wt,{moduleId:l.module.id});n.show(q,Ie,Oe,!0)}}}const oe=j(()=>Ht.find(B=>B.id===s.selectedBuildingId)),ee=j(()=>{const B=oe.value;return B?{...B,size:H1(B.size,s.rotation)}:null}),ge=j(()=>{const B=ee.value,$=s.hoverX,q=s.hoverY;return!s.active||!B||$==null||q==null||!(l.x>=$&&l.x<$+B.size.w&&l.y>=q&&l.y<q+B.size.h)?null:t.canBuildAt($,q,B)?"valid":"invalid"});function De(B){switch(B){case"infrastructure":return"#7C6DFF";case"production":return"#EA7227";case"logistics":return"#50d6b6";case"research":return"#AF4CE9";default:return"#ccc"}}function ct(B){const q=De(B.category);return{position:"absolute",width:`${B.size.w*58-5}px`,height:`${B.size.h*58-5}px`,backgroundColor:q,borderRadius:"var(--border-radius-s)",display:"flex",alignItems:"center",justifyContent:"center",left:"-2px",top:"-2px",zIndex:5,opacity:B.status==="underConstruction"?.75:1}}const Ce=j(()=>l.module?o.placedBuildings.find(B=>B.id===l.module.id)||l.module:null);function ae(B){if(!s.active||!s.selectedBuildingId)return;const $=ee.value;if(!$)return;const q=t.getBuildError(l.x,l.y,$);if(q){i.value=q;const Ie=B.currentTarget.getBoundingClientRect();n.show(Ie.left+Ie.width/2,Ie.top-32,xt("div",{style:"padding:8px 12px;max-width:220px;color:#ff6b6b;"},q),!1)}}function K(){i.value="",n.pinned||n.hide()}function te(B){var $;(($=l.module)==null?void 0:$.type)==="supply-channel"&&t.removeSupplyChannel(l.x,l.y)}return(B,$)=>(k(),T("div",{class:"cell_wrapper",onClick:N,onMouseenter:ae,onMouseleave:K,onContextmenu:os(te,["prevent"])},[M("div",{class:Re(["cell",{"cell-accessible":e.accessible,"cell-barrier":e.barrier,"cell-hover-valid":ge.value==="valid","cell-hover-invalid":ge.value==="invalid","cell-supply-channel":a.value,"cell-supply-preview":g.value}]),onMouseenter:X,onMouseleave:F},[a.value?(k(),T("div",{key:0,class:"supply-channel-cell",style:Ze({background:ue(c)})},[M("img",{class:"supply-channel-icon",src:ue(f),alt:"Канал"},null,8,F1)],4)):g.value?(k(),T("div",I1)):ne("",!0),!e.module&&!g.value?(k(),T(le,{key:2},[e.resource?(k(),T("div",O1,[M("img",{class:"resource-icon",src:de(e.resource.type),alt:"icon"},null,8,$1),e.resource.type!=="geothermal"?(k(),T("span",V1,z(Math.floor(e.resource.amount)),1)):ne("",!0)])):e.barrier?(k(),T("div",D1,$[0]||($[0]=[M("img",{class:"barrier-icon",src:x1,alt:"barrier"},null,-1)]))):ne("",!0)],64)):e.module&&e.module.status==="underConstruction"?(k(),T(le,{key:3},[w.value?(k(),T("div",{key:0,class:"construction-block",style:Ze(ct(e.module))},[M("img",{class:"module-block-icon constructing",src:e.module.icon,alt:""},null,8,Z1),M("div",U1,[$[1]||($[1]=M("span",null,"Строительство...",-1)),M("progress",{value:E.value,max:"1"},null,8,j1),Z.value?(k(),T("span",N1,"Ожидание ресурсов")):(k(),T("span",W1,z(D.value)+" сек.",1)),M("button",{class:"cancel-btn",onClick:os(R,["stop"])},"Отменить")])],4)):ne("",!0)],64)):e.module&&e.module.isOrigin&&e.module.status==="built"?(k(),T("div",{key:4,class:Re(["module-block fade-in",{disabled:Ce.value&&Ce.value.enabled===!1,"no-workers":Ce.value&&Ce.value.enabled!==!1&&Ce.value.workers&&Ce.value.workersAssigned===0,"not-full-workers":Ce.value&&Ce.value.enabled!==!1&&Ce.value.workers&&Ce.value.workersAssigned>0&&Ce.value.workersAssigned<Ce.value.workers}]),style:Ze(ct(e.module))},[M("img",{class:"module-block-icon",src:e.module.icon},null,8,z1)],6)):ne("",!0)],34)],32))}},q1=Ae(K1,[["__scopeId","data-v-652c434b"]]),Y1={class:"map-absolute"},X1={__name:"MapView",setup(e){I0();const t=St(),{mapData:s}=cs(t),n=Ee(null),o=S2(),{bots:r}=cs(o);let i=!1,l=0,a=0,f=0,u=0,c=0,g=0;It(()=>{const X=Math.floor(25)*58,F=Math.floor(50/2)*58,N=X-27*58/2,oe=F-12*58/2;n.value&&(n.value.scrollLeft=N,n.value.scrollTop=oe);const ee=n.value;ee&&(ee.addEventListener("mousedown",h),ee.addEventListener("mouseleave",C),ee.addEventListener("mouseup",C),ee.addEventListener("mousemove",m),ee.addEventListener("touchstart",w,{passive:!1}),ee.addEventListener("touchmove",E,{passive:!1}),ee.addEventListener("touchend",D),ee.addEventListener("touchcancel",D))});function h(Z){i=!0,l=Z.pageX-n.value.offsetLeft,a=Z.pageY-n.value.offsetTop,f=n.value.scrollLeft,u=n.value.scrollTop,n.value.style.cursor="grabbing"}function C(){i=!1,n.value.style.cursor=""}function m(Z){if(!i)return;Z.preventDefault();const R=Z.pageX-n.value.offsetLeft,O=Z.pageY-n.value.offsetTop,de=l-R,X=a-O;n.value.scrollLeft=f+de,n.value.scrollTop=u+X}function w(Z){i=!0;const R=Z.touches[0];c=R.pageX-n.value.offsetLeft,g=R.pageY-n.value.offsetTop,f=n.value.scrollLeft,u=n.value.scrollTop,n.value.style.cursor="grabbing"}function E(Z){if(!i)return;const R=Z.touches[0],O=R.pageX-n.value.offsetLeft,de=R.pageY-n.value.offsetTop,X=c-O,F=g-de;n.value.scrollLeft=f+X,n.value.scrollTop=u+F,Z.preventDefault()}function D(){i=!1,n.value.style.cursor=""}return(Z,R)=>(k(),T("div",{class:"map-scroll-container",ref_key:"scrollRef",ref:n},[M("div",Y1,[(k(!0),T(le,null,Ge(ue(s),(O,de)=>(k(),T("div",{key:de,class:"map-row"},[(k(!0),T(le,null,Ge(O,(X,F)=>(k(),t0(q1,{key:F,x:F,y:de,accessible:X.accessible,resource:X.resource,barrier:X.barrier,module:X.module},null,8,["x","y","accessible","resource","barrier","module"]))),128))]))),128)),(k(!0),T(le,null,Ge(ue(r),O=>(k(),T(le,{key:O.id},[O!=null&&O.pos?(k(),t0(w1,{key:0,bot:O},null,8,["bot"])):ne("",!0)],64))),128))])],512))}},G1=Ae(X1,[["__scopeId","data-v-2ac7273c"]]),Q1={class:"resource-panel clipped-edge-left"},J1={class:"storage-bar"},ei={key:0},ti={key:1},si={key:0,class:"storage-full-warning"},ni=["onMouseenter"],oi=["src"],ri={key:0,class:"amount"},ii={__name:"ResourcePanel",setup(e){const t=Fe(),s=we(),n=i0(),o=j(()=>s.placedBuildings.find(m=>m.type==="drop-module")),r=j(()=>{var m;return((m=o.value)==null?void 0:m.storage)??0}),i=j(()=>M2(t));j(()=>r.value-i.value),j(()=>Math.floor(r.value/3)),j(()=>r.value);const l=j(()=>i.value>=r.value),a=j(()=>Object.entries(t.$state).filter(([m])=>m!=="morale").map(([m,w])=>({key:m,...w})));function f(m){switch(m){case"nutria":return new URL("data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.9555%207.28524L16.5146%206.0144C16.8267%205.85686%2016.9099%205.44725%2016.6707%205.19518C15.7448%204.16591%2014.8086%203.30468%2014.0596%202.6535C13.7163%202.35942%2013.2065%202.60099%2013.2065%203.05261V6.81262C13.2065%207.20122%2013.6123%207.45329%2013.9555%207.28524Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.2065%2020.2351V21.968C13.2065%2022.2831%2013.4874%2022.5457%2013.7995%2022.4932C16.6394%2022.0205%2019.0113%2020.0985%2020.1348%2017.5148C20.3324%2017.0737%2019.8539%2016.6326%2019.417%2016.8426L13.4978%2019.7729C13.321%2019.857%2013.2065%2020.0355%2013.2065%2020.2351Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M11.6461%203.03156C11.6461%202.57994%2011.1364%202.33838%2010.7931%202.62195C8.33802%204.70151%203.97927%209.08118%204.00007%2014.1015C4.00007%2018.3237%207.05848%2021.8211%2011.0531%2022.4933C11.3652%2022.5458%2011.6461%2022.2832%2011.6461%2021.9681V3.03156Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.9242%2012.5997L19.4273%2010.2681C19.7082%2010.1421%2019.8434%209.81647%2019.7082%209.5434C19.3233%208.7767%2018.8759%208.031%2018.387%207.33781C18.2414%207.12775%2017.9709%207.06474%2017.742%207.16977L13.4873%209.25982C13.3105%209.34385%2013.196%209.5329%2013.196%209.73245V12.1166C13.2064%2012.4842%2013.5809%2012.7468%2013.9242%2012.5997Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.5717%2014.5321C20.7381%2014.4481%2020.8422%2014.2905%2020.8422%2014.112C20.8422%2013.4398%2020.7589%2012.7781%2020.6133%2012.127C20.5405%2011.8119%2020.1972%2011.6438%2019.9059%2011.7699L13.5186%2014.5216C13.3314%2014.6056%2013.2065%2014.7947%2013.2065%2015.0047V17.3154C13.2065%2017.704%2013.6123%2017.956%2013.9555%2017.788L20.0932%2014.7737L20.5717%2014.5321Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href;case"ferrolite":return new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.51%205.01L14.55%203.05C13.15%201.65%2010.85%201.65%209.45001%203.05L7.49001%205.01C7.10001%205.4%207.10001%206.04%207.49001%206.43L11.3%2010.24C11.69%2010.63%2012.32%2010.63%2012.71%2010.24L16.52%206.43C16.9%206.04%2016.9%205.4%2016.51%205.01Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M5.01%207.49001L3.05%209.45001C1.65%2010.85%201.65%2013.15%203.05%2014.55L5.01%2016.51C5.4%2016.9%206.03%2016.9%206.42%2016.51L10.23%2012.7C10.62%2012.31%2010.62%2011.68%2010.23%2011.29L6.43%207.49001C6.04%207.10001%205.4%207.10001%205.01%207.49001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.9498%209.45001L18.9898%207.49001C18.5998%207.10001%2017.9698%207.10001%2017.5798%207.49001L13.7698%2011.3C13.3798%2011.69%2013.3798%2012.32%2013.7698%2012.71L17.5798%2016.52C17.9698%2016.91%2018.5998%2016.91%2018.9898%2016.52L20.9498%2014.56C22.3498%2013.15%2022.3498%2010.85%2020.9498%209.45001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M7.49005%2018.99L9.45005%2020.95C10.8501%2022.35%2013.1501%2022.35%2014.5501%2020.95L16.5101%2018.99C16.9001%2018.6%2016.9001%2017.97%2016.5101%2017.58L12.7001%2013.77C12.3101%2013.38%2011.6801%2013.38%2011.2901%2013.77L7.48005%2017.58C7.10005%2017.96%207.10005%2018.6%207.49005%2018.99Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href;case"colonists":return new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.62038%204C7.52865%204%205.82812%205.704%205.82812%207.8C5.82812%209.856%207.43285%2011.52%209.52458%2011.592C9.58845%2011.584%209.65232%2011.584%209.70022%2011.592C9.71619%2011.592%209.72417%2011.592%209.74014%2011.592C9.74812%2011.592%209.74812%2011.592%209.75611%2011.592C11.7999%2011.52%2013.4047%209.856%2013.4126%207.8C13.4126%205.704%2011.7121%204%209.62038%204Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.6762%2013.72C11.4488%2012.232%207.81621%2012.232%205.57279%2013.72C4.55886%2014.4%204%2015.32%204%2016.304C4%2017.288%204.55886%2018.2%205.56481%2018.872C6.68252%2019.624%208.15152%2020%209.62052%2020C11.0895%2020%2012.5585%2019.624%2013.6762%2018.872C14.6822%2018.192%2015.2411%2017.28%2015.2411%2016.288C15.2331%2015.304%2014.6822%2014.392%2013.6762%2013.72Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M18.3951%208.27203C18.5228%209.82403%2017.4211%2011.184%2015.8962%2011.368C15.8882%2011.368%2015.8882%2011.368%2015.8802%2011.368H15.8563C15.8084%2011.368%2015.7605%2011.368%2015.7206%2011.384C14.9461%2011.424%2014.2356%2011.176%2013.7007%2010.72C14.523%209.98403%2014.994%208.88003%2014.8982%207.68003C14.8424%207.03203%2014.6188%206.44003%2014.2835%205.93603C14.5869%205.78403%2014.9382%205.68803%2015.2974%205.65603C16.8622%205.52003%2018.2594%206.68803%2018.3951%208.27203Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M19.9912%2015.672C19.9273%2016.448%2019.4323%2017.12%2018.602%2017.576C17.8037%2018.016%2016.7977%2018.224%2015.7998%2018.2C16.3746%2017.68%2016.7099%2017.032%2016.7738%2016.344C16.8536%2015.352%2016.3826%2014.4%2015.4405%2013.64C14.9056%2013.216%2014.2829%2012.88%2013.6042%2012.632C15.3686%2012.12%2017.5881%2012.464%2018.9533%2013.568C19.6878%2014.16%2020.0631%2014.904%2019.9912%2015.672Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href;case"energy":return new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.91%2010.72H14.82V3.52002C14.82%201.84002%2013.91%201.50002%2012.8%202.76002L12%203.67002L5.23001%2011.37C4.30001%2012.42%204.69001%2013.28%206.09001%2013.28H9.18001V20.48C9.18001%2022.16%2010.09%2022.5%2011.2%2021.24L12%2020.33L18.77%2012.63C19.7%2011.58%2019.31%2010.72%2017.91%2010.72Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href;default:return""}}function u(m){switch(m){case"nutria":return"Нутрий";case"ferrolite":return"Ферролит";case"colonists":return"Колонисты";case"energy":return"Энергия";default:return""}}function c(m,w){const E=m.target.getBoundingClientRect(),D=a.value.find(O=>O.key===w),Z=u(w),R=xt(Sn,{resource:D,label:Z});n.show(E.left+116,E.top+40,R)}function g(){n.hide()}function h(m){return m%1===0?m:m.toFixed(0)}function C(){var w;const m=((w=t.energy)==null?void 0:w.delta)??0;return m>0?`+${m}`:m<0?`${m}`:"0"}return(m,w)=>(k(),T("div",Q1,[M("div",J1,[r.value===0?(k(),T("div",ei,w[0]||(w[0]=[M("span",{style:{color:"#ff6b6b","font-weight":"600"}},"Нет склада",-1)]))):(k(),T("div",ti,[Le(" Склад: "+z(Math.floor(i.value))+" / "+z(Math.floor(r.value))+" ",1),l.value?(k(),T("span",si,"Склад заполнен!")):ne("",!0)]))]),(k(!0),T(le,null,Ge(a.value,E=>(k(),T("div",{class:"resource",key:E.key,onMouseenter:D=>c(D,E.key),onMouseleave:g},[M("img",{src:f(E.key),alt:""},null,8,oi),E.key==="energy"?(k(),T("span",ri,z(C()),1)):(k(),T("span",{key:1,class:Re(["amount",{"limit-workers":E.key==="colonists"&&ue(t).hasWorkerShortage}])},z(h(E.amount)),3))],40,ni))),128))]))}},li=Ae(ii,[["__scopeId","data-v-73017c54"]]),ci="data:image/svg+xml,%3csvg%20width='16'%20height='17'%20viewBox='0%200%2016%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.1%2013.24V3.76C7.1%202.86%206.72%202.5%205.76%202.5H3.34C2.38%202.5%202%202.86%202%203.76V13.24C2%2014.14%202.38%2014.5%203.34%2014.5H5.76C6.72%2014.5%207.1%2014.14%207.1%2013.24Z'%20fill='white'/%3e%3cpath%20d='M13.9999%2013.24V3.76C13.9999%202.86%2013.6199%202.5%2012.6599%202.5H10.2399C9.28657%202.5%208.8999%202.86%208.8999%203.76V13.24C8.8999%2014.14%209.2799%2014.5%2010.2399%2014.5H12.6599C13.6199%2014.5%2013.9999%2014.14%2013.9999%2013.24Z'%20fill='white'/%3e%3c/svg%3e",ui="data:image/svg+xml,%3csvg%20width='16'%20height='17'%20viewBox='0%200%2016%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.6665%208.50001V6.12668C2.6665%203.18001%204.75317%201.97334%207.3065%203.44668L9.3665%204.63334L11.4265%205.82001C13.9798%207.29334%2013.9798%209.70668%2011.4265%2011.18L9.3665%2012.3667L7.3065%2013.5533C4.75317%2015.0267%202.6665%2013.82%202.6665%2010.8733V8.50001Z'%20fill='white'/%3e%3c/svg%3e",ai="data:image/svg+xml,%3csvg%20width='16'%20height='17'%20viewBox='0%200%2016%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2%205.58479C2.00022%204.36302%203.32163%203.60678%204.37601%204.2146L5.37639%204.79066C5.29547%205.03711%205.25009%205.30348%205.25009%205.5857V11.5217C5.25014%2011.8031%205.29611%2012.0687%205.37729%2012.3149L4.37601%2012.8919C3.32154%2013.4997%202%2012.7365%202%2011.5208V5.58479Z'%20fill='white'/%3e%3cpath%20d='M5.84277%205.58512V11.5212C5.84277%2012.7369%207.16395%2013.4998%208.21842%2012.892L10.7926%2011.4095L13.3667%209.92084C14.4212%209.31297%2014.4212%207.79329%2013.3667%207.18542L10.7926%205.69676L8.21842%204.21431C7.16395%203.60644%205.84277%204.36317%205.84277%205.58512Z'%20fill='white'/%3e%3c/svg%3e",fi="data:image/svg+xml,%3csvg%20width='16'%20height='17'%20viewBox='0%200%2016%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%205.58479C0.000219701%204.36302%201.32163%203.60678%202.37601%204.2146L3.37639%204.79066C3.29547%205.03711%203.25009%205.30348%203.25009%205.5857V11.5217C3.25014%2011.8031%203.29611%2012.0687%203.37729%2012.3149L2.37601%2012.8919C1.32154%2013.4997%200%2012.7365%200%2011.5208V5.58479Z'%20fill='white'/%3e%3cpath%20d='M3.84229%205.58479C3.8425%204.36302%205.16391%203.60678%206.21829%204.2146L7.21867%204.79066C7.13776%205.03711%207.09237%205.30348%207.09237%205.5857V11.5217C7.09243%2011.8031%207.1384%2012.0687%207.21958%2012.3149L6.21829%2012.8919C5.16382%2013.4997%203.84229%2012.7365%203.84229%2011.5208V5.58479Z'%20fill='white'/%3e%3cpath%20d='M7.68506%205.58512V11.5212C7.68506%2012.7369%209.00624%2013.4998%2010.0607%2012.892L12.6348%2011.4095L15.209%209.92084C16.2635%209.31297%2016.2635%207.79329%2015.209%207.18542L12.6348%205.69676L10.0607%204.21431C9.00624%203.60644%207.68506%204.36317%207.68506%205.58512Z'%20fill='white'/%3e%3c/svg%3e",di={class:"time-panel clipped-edge-left"},hi={class:"controls"},pi={class:"time-info"},gi={__name:"TimePanel",setup(e){const t=Mn();function s(o){t.setSpeed(o)}const n=j(()=>{const o=t.hour.toString().padStart(2,"0"),r=t.minute.toString().padStart(2,"0");return`${o}:${r}`});return It(()=>{t.startTimer()}),o0(()=>{t.stopTimer()}),(o,r)=>(k(),T("div",di,[M("div",hi,[M("button",{onClick:r[0]||(r[0]=i=>s(0)),class:Re({active_pause:ue(t).speed===0})},r[4]||(r[4]=[M("img",{src:ci,alt:""},null,-1)]),2),M("button",{onClick:r[1]||(r[1]=i=>s(1)),class:Re({active:ue(t).speed===1})},r[5]||(r[5]=[M("img",{src:ui,alt:""},null,-1)]),2),M("button",{onClick:r[2]||(r[2]=i=>s(2)),class:Re({active:ue(t).speed===2})},r[6]||(r[6]=[M("img",{src:ai,alt:""},null,-1)]),2),M("button",{onClick:r[3]||(r[3]=i=>s(3)),class:Re({active:ue(t).speed===3})},r[7]||(r[7]=[M("img",{src:fi,alt:""},null,-1)]),2)]),M("div",pi,[M("span",null,[Le("Неделя "+z(ue(t).week)+" ",1),r[8]||(r[8]=M("span",{class:"interpunct"},"·",-1))]),M("span",null,[Le("Сол "+z(ue(t).sol)+" ",1),r[9]||(r[9]=M("span",{class:"interpunct"},"·",-1))]),M("span",null,z(n.value),1)])]))}},Ci=Ae(gi,[["__scopeId","data-v-ee3d2915"]]),mi={class:"tooltip-content"},vi={key:0,class:"stata green"},wi={key:1,class:"stata red"},yi={class:"lore"},_i={__name:"MoraleTooltip",props:{morale:Object},setup(e){function t(s){return s==null||isNaN(s)?"0":s%1===0?s:s.toFixed(1)}return(s,n)=>(k(),T("div",mi,[n[0]||(n[0]=M("div",{class:"label"},[M("b",null,"Мораль")],-1)),e.morale.productionPerHour>0?(k(),T("div",vi," Производство: +"+z(t(e.morale.productionPerHour))+"/ч ",1)):ne("",!0),e.morale.consumptionPerHour>0?(k(),T("div",wi," Потребление: –"+z(t(e.morale.consumptionPerHour))+"/ч ",1)):ne("",!0),M("div",yi,z(e.morale.lore),1)]))}},bi=Ae(_i,[["__scopeId","data-v-b5495940"]]),xi={class:"morale-panel clipped-edge-right"},Li=["src"],Mi={class:"progress-labels"},Si={class:"percent"},Ei={__name:"MoralePanel",setup(e){const t=Fe(),s=i0(),n=j(()=>t.morale),o=j(()=>Math.min(Math.max(n.value.amount,0),100)),r=new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.8008%209.80859C17.6708%209.80859%2016.6608%2010.3586%2016.0308%2011.1986C15.4008%2010.3586%2014.3908%209.80859%2013.2608%209.80859C11.3508%209.80859%209.80078%2011.3686%209.80078%2013.2886C9.80078%2014.0286%209.92078%2014.7186%2010.1208%2015.3486C11.1008%2018.4586%2014.1408%2020.3286%2015.6408%2020.8386C15.8508%2020.9086%2016.2008%2020.9086%2016.4108%2020.8386C17.9108%2020.3286%2020.9508%2018.4686%2021.9308%2015.3486C22.1408%2014.7086%2022.2508%2014.0286%2022.2508%2013.2886C22.2608%2011.3686%2020.7108%209.80859%2018.8008%209.80859Z'%20fill='%233BC387'/%3e%3cpath%20d='M20.75%208.24C20.75%208.47%2020.52%208.62%2020.3%208.56C18.95%208.21%2017.47%208.5%2016.35%209.3C16.13%209.46%2015.83%209.46%2015.62%209.3C14.83%208.72%2013.87%208.4%2012.86%208.4C10.28%208.4%208.18%2010.51%208.18%2013.11C8.18%2015.93%209.53%2018.04%2010.89%2019.45C10.96%2019.52%2010.9%2019.64%2010.81%2019.6C8.08%2018.67%202%2014.81%202%208.24C2%205.34%204.33%203%207.21%203C8.92%203%2010.43%203.82%2011.38%205.09C12.34%203.82%2013.85%203%2015.55%203C18.42%203%2020.75%205.34%2020.75%208.24Z'%20fill='%233BC387'/%3e%3c/svg%3e",import.meta.url).href;function i(f){const c=f.currentTarget.getBoundingClientRect(),g=c.left+52,h=c.top+46,C=xt(bi,{morale:t.morale});s.show(g,h,C)}function l(){s.hide()}function a(f){return f%1===0?f:f.toFixed(0)}return(f,u)=>(k(),T("div",xi,[M("img",{class:"icon",src:ue(r),alt:"Мораль"},null,8,Li),M("div",{class:"progress-bar",onMouseenter:i,onMouseleave:l},[M("div",{class:"progress",style:Ze({width:o.value+"%"})},null,4),M("div",Mi,[u[0]||(u[0]=M("span",{class:"label"},"мораль",-1)),M("span",Si,z(a(o.value))+"%",1)])],32)]))}},ki=Ae(Ei,[["__scopeId","data-v-2fc3c60e"]]),Ai={class:"top-panel"},Pi={__name:"TopPanel",setup(e){return(t,s)=>(k(),T("div",Ai,[he(Ci),he(li),he(ki)]))}},Ti=Ae(Pi,[["__scopeId","data-v-fbbc36a4"]]),Bi={class:"tooltip-content"},Ri={class:"name"},Hi={key:0},Fi={class:"cost-row"},Ii=["src"],Oi={key:1},$i={key:2},Vi={key:3},Di={key:4},Zi={class:"stata"},Ui=["src"],ji={key:5},Ni={class:"stata"},Wi=["src"],zi={key:6,class:"lore"},Ki={__name:"BuildPanelTooltip",props:{building:Object},setup(e){function t(s){switch(s){case"nutria":return new URL("data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.9555%207.28524L16.5146%206.0144C16.8267%205.85686%2016.9099%205.44725%2016.6707%205.19518C15.7448%204.16591%2014.8086%203.30468%2014.0596%202.6535C13.7163%202.35942%2013.2065%202.60099%2013.2065%203.05261V6.81262C13.2065%207.20122%2013.6123%207.45329%2013.9555%207.28524Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.2065%2020.2351V21.968C13.2065%2022.2831%2013.4874%2022.5457%2013.7995%2022.4932C16.6394%2022.0205%2019.0113%2020.0985%2020.1348%2017.5148C20.3324%2017.0737%2019.8539%2016.6326%2019.417%2016.8426L13.4978%2019.7729C13.321%2019.857%2013.2065%2020.0355%2013.2065%2020.2351Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M11.6461%203.03156C11.6461%202.57994%2011.1364%202.33838%2010.7931%202.62195C8.33802%204.70151%203.97927%209.08118%204.00007%2014.1015C4.00007%2018.3237%207.05848%2021.8211%2011.0531%2022.4933C11.3652%2022.5458%2011.6461%2022.2832%2011.6461%2021.9681V3.03156Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.9242%2012.5997L19.4273%2010.2681C19.7082%2010.1421%2019.8434%209.81647%2019.7082%209.5434C19.3233%208.7767%2018.8759%208.031%2018.387%207.33781C18.2414%207.12775%2017.9709%207.06474%2017.742%207.16977L13.4873%209.25982C13.3105%209.34385%2013.196%209.5329%2013.196%209.73245V12.1166C13.2064%2012.4842%2013.5809%2012.7468%2013.9242%2012.5997Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.5717%2014.5321C20.7381%2014.4481%2020.8422%2014.2905%2020.8422%2014.112C20.8422%2013.4398%2020.7589%2012.7781%2020.6133%2012.127C20.5405%2011.8119%2020.1972%2011.6438%2019.9059%2011.7699L13.5186%2014.5216C13.3314%2014.6056%2013.2065%2014.7947%2013.2065%2015.0047V17.3154C13.2065%2017.704%2013.6123%2017.956%2013.9555%2017.788L20.0932%2014.7737L20.5717%2014.5321Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href;case"ferrolite":return new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.51%205.01L14.55%203.05C13.15%201.65%2010.85%201.65%209.45001%203.05L7.49001%205.01C7.10001%205.4%207.10001%206.04%207.49001%206.43L11.3%2010.24C11.69%2010.63%2012.32%2010.63%2012.71%2010.24L16.52%206.43C16.9%206.04%2016.9%205.4%2016.51%205.01Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M5.01%207.49001L3.05%209.45001C1.65%2010.85%201.65%2013.15%203.05%2014.55L5.01%2016.51C5.4%2016.9%206.03%2016.9%206.42%2016.51L10.23%2012.7C10.62%2012.31%2010.62%2011.68%2010.23%2011.29L6.43%207.49001C6.04%207.10001%205.4%207.10001%205.01%207.49001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.9498%209.45001L18.9898%207.49001C18.5998%207.10001%2017.9698%207.10001%2017.5798%207.49001L13.7698%2011.3C13.3798%2011.69%2013.3798%2012.32%2013.7698%2012.71L17.5798%2016.52C17.9698%2016.91%2018.5998%2016.91%2018.9898%2016.52L20.9498%2014.56C22.3498%2013.15%2022.3498%2010.85%2020.9498%209.45001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M7.49005%2018.99L9.45005%2020.95C10.8501%2022.35%2013.1501%2022.35%2014.5501%2020.95L16.5101%2018.99C16.9001%2018.6%2016.9001%2017.97%2016.5101%2017.58L12.7001%2013.77C12.3101%2013.38%2011.6801%2013.38%2011.2901%2013.77L7.48005%2017.58C7.10005%2017.96%207.10005%2018.6%207.49005%2018.99Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href;case"morale":return new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.8008%209.80859C17.6708%209.80859%2016.6608%2010.3586%2016.0308%2011.1986C15.4008%2010.3586%2014.3908%209.80859%2013.2608%209.80859C11.3508%209.80859%209.80078%2011.3686%209.80078%2013.2886C9.80078%2014.0286%209.92078%2014.7186%2010.1208%2015.3486C11.1008%2018.4586%2014.1408%2020.3286%2015.6408%2020.8386C15.8508%2020.9086%2016.2008%2020.9086%2016.4108%2020.8386C17.9108%2020.3286%2020.9508%2018.4686%2021.9308%2015.3486C22.1408%2014.7086%2022.2508%2014.0286%2022.2508%2013.2886C22.2608%2011.3686%2020.7108%209.80859%2018.8008%209.80859Z'%20fill='%233BC387'/%3e%3cpath%20d='M20.75%208.24C20.75%208.47%2020.52%208.62%2020.3%208.56C18.95%208.21%2017.47%208.5%2016.35%209.3C16.13%209.46%2015.83%209.46%2015.62%209.3C14.83%208.72%2013.87%208.4%2012.86%208.4C10.28%208.4%208.18%2010.51%208.18%2013.11C8.18%2015.93%209.53%2018.04%2010.89%2019.45C10.96%2019.52%2010.9%2019.64%2010.81%2019.6C8.08%2018.67%202%2014.81%202%208.24C2%205.34%204.33%203%207.21%203C8.92%203%2010.43%203.82%2011.38%205.09C12.34%203.82%2013.85%203%2015.55%203C18.42%203%2020.75%205.34%2020.75%208.24Z'%20fill='%233BC387'/%3e%3c/svg%3e",import.meta.url).href;case"energy":return new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.91%2010.72H14.82V3.52002C14.82%201.84002%2013.91%201.50002%2012.8%202.76002L12%203.67002L5.23001%2011.37C4.30001%2012.42%204.69001%2013.28%206.09001%2013.28H9.18001V20.48C9.18001%2022.16%2010.09%2022.5%2011.2%2021.24L12%2020.33L18.77%2012.63C19.7%2011.58%2019.31%2010.72%2017.91%2010.72Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href;default:return""}}return(s,n)=>{var o,r;return k(),T("div",Bi,[M("div",Ri,z(e.building.name),1),e.building.cost&&e.building.cost.length?(k(),T("div",Hi,[M("div",Fi,[n[0]||(n[0]=M("span",null,"Стоимость:",-1)),(k(!0),T(le,null,Ge(e.building.cost,i=>(k(),T("span",{key:i.resource,class:"cost-item"},[M("img",{src:t(i.resource),class:"res-icon"},null,8,Ii),Le(" "+z(i.amount),1)]))),128))])])):ne("",!0),e.building.workers?(k(),T("div",Oi,"Работников: "+z(e.building.workers),1)):ne("",!0),e.building.housing?(k(),T("div",$i,"Жильё: "+z(e.building.housing),1)):ne("",!0),e.building.storage?(k(),T("div",Vi,"Склад: "+z(e.building.storage),1)):ne("",!0),(o=e.building.produces)!=null&&o.length?(k(),T("div",Di,[M("div",Zi,[n[1]||(n[1]=Le("Производит: ")),(k(!0),T(le,null,Ge(e.building.produces,i=>(k(),T("div",{key:i.resource,class:"produce-row"},[M("img",{src:t(i.resource),class:"res-icon"},null,8,Ui),Le(" +"+z(i.amountPerHour)+"/ч ",1)]))),128))])])):ne("",!0),(r=e.building.consumes)!=null&&r.length?(k(),T("div",ji,[M("div",Ni,[n[2]||(n[2]=Le("Потребляет: ")),(k(!0),T(le,null,Ge(e.building.consumes,i=>(k(),T("div",{key:i.resource,class:"consume-row"},[M("img",{src:t(i.resource),class:"res-icon"},null,8,Wi),Le(" –"+z(i.amountPerHour)+"/ч ",1)]))),128))])])):ne("",!0),e.building.lore?(k(),T("div",zi,z(e.building.lore),1)):ne("",!0)])}}},qi=Ae(Ki,[["__scopeId","data-v-c254288f"]]),Yi={class:"build-panel"},Xi={class:"tabs-categories"},Gi=["onClick"],Qi={class:"buildings-list"},Ji=["onClick","title","onMouseenter"],el=["src","alt"],tl={key:0,class:"building-cost"},sl=["src"],nl={class:"cost-amount"},ol={__name:"BuildPanel",setup(e){const t=I0(),s=we(),n=i0(),o=j(()=>s.placedBuildings.some(C=>C.type==="drop-module"));function r(C){switch(C){case"nutria":return new URL("data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.9555%207.28524L16.5146%206.0144C16.8267%205.85686%2016.9099%205.44725%2016.6707%205.19518C15.7448%204.16591%2014.8086%203.30468%2014.0596%202.6535C13.7163%202.35942%2013.2065%202.60099%2013.2065%203.05261V6.81262C13.2065%207.20122%2013.6123%207.45329%2013.9555%207.28524Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.2065%2020.2351V21.968C13.2065%2022.2831%2013.4874%2022.5457%2013.7995%2022.4932C16.6394%2022.0205%2019.0113%2020.0985%2020.1348%2017.5148C20.3324%2017.0737%2019.8539%2016.6326%2019.417%2016.8426L13.4978%2019.7729C13.321%2019.857%2013.2065%2020.0355%2013.2065%2020.2351Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M11.6461%203.03156C11.6461%202.57994%2011.1364%202.33838%2010.7931%202.62195C8.33802%204.70151%203.97927%209.08118%204.00007%2014.1015C4.00007%2018.3237%207.05848%2021.8211%2011.0531%2022.4933C11.3652%2022.5458%2011.6461%2022.2832%2011.6461%2021.9681V3.03156Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.9242%2012.5997L19.4273%2010.2681C19.7082%2010.1421%2019.8434%209.81647%2019.7082%209.5434C19.3233%208.7767%2018.8759%208.031%2018.387%207.33781C18.2414%207.12775%2017.9709%207.06474%2017.742%207.16977L13.4873%209.25982C13.3105%209.34385%2013.196%209.5329%2013.196%209.73245V12.1166C13.2064%2012.4842%2013.5809%2012.7468%2013.9242%2012.5997Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.5717%2014.5321C20.7381%2014.4481%2020.8422%2014.2905%2020.8422%2014.112C20.8422%2013.4398%2020.7589%2012.7781%2020.6133%2012.127C20.5405%2011.8119%2020.1972%2011.6438%2019.9059%2011.7699L13.5186%2014.5216C13.3314%2014.6056%2013.2065%2014.7947%2013.2065%2015.0047V17.3154C13.2065%2017.704%2013.6123%2017.956%2013.9555%2017.788L20.0932%2014.7737L20.5717%2014.5321Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href;case"ferrolite":return new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.51%205.01L14.55%203.05C13.15%201.65%2010.85%201.65%209.45001%203.05L7.49001%205.01C7.10001%205.4%207.10001%206.04%207.49001%206.43L11.3%2010.24C11.69%2010.63%2012.32%2010.63%2012.71%2010.24L16.52%206.43C16.9%206.04%2016.9%205.4%2016.51%205.01Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M5.01%207.49001L3.05%209.45001C1.65%2010.85%201.65%2013.15%203.05%2014.55L5.01%2016.51C5.4%2016.9%206.03%2016.9%206.42%2016.51L10.23%2012.7C10.62%2012.31%2010.62%2011.68%2010.23%2011.29L6.43%207.49001C6.04%207.10001%205.4%207.10001%205.01%207.49001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M20.9498%209.45001L18.9898%207.49001C18.5998%207.10001%2017.9698%207.10001%2017.5798%207.49001L13.7698%2011.3C13.3798%2011.69%2013.3798%2012.32%2013.7698%2012.71L17.5798%2016.52C17.9698%2016.91%2018.5998%2016.91%2018.9898%2016.52L20.9498%2014.56C22.3498%2013.15%2022.3498%2010.85%2020.9498%209.45001Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M7.49005%2018.99L9.45005%2020.95C10.8501%2022.35%2013.1501%2022.35%2014.5501%2020.95L16.5101%2018.99C16.9001%2018.6%2016.9001%2017.97%2016.5101%2017.58L12.7001%2013.77C12.3101%2013.38%2011.6801%2013.38%2011.2901%2013.77L7.48005%2017.58C7.10005%2017.96%207.10005%2018.6%207.49005%2018.99Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href;case"colonists":return new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.62038%204C7.52865%204%205.82812%205.704%205.82812%207.8C5.82812%209.856%207.43285%2011.52%209.52458%2011.592C9.58845%2011.584%209.65232%2011.584%209.70022%2011.592C9.71619%2011.592%209.72417%2011.592%209.74014%2011.592C9.74812%2011.592%209.74812%2011.592%209.75611%2011.592C11.7999%2011.52%2013.4047%209.856%2013.4126%207.8C13.4126%205.704%2011.7121%204%209.62038%204Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M13.6762%2013.72C11.4488%2012.232%207.81621%2012.232%205.57279%2013.72C4.55886%2014.4%204%2015.32%204%2016.304C4%2017.288%204.55886%2018.2%205.56481%2018.872C6.68252%2019.624%208.15152%2020%209.62052%2020C11.0895%2020%2012.5585%2019.624%2013.6762%2018.872C14.6822%2018.192%2015.2411%2017.28%2015.2411%2016.288C15.2331%2015.304%2014.6822%2014.392%2013.6762%2013.72Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M18.3951%208.27203C18.5228%209.82403%2017.4211%2011.184%2015.8962%2011.368C15.8882%2011.368%2015.8882%2011.368%2015.8802%2011.368H15.8563C15.8084%2011.368%2015.7605%2011.368%2015.7206%2011.384C14.9461%2011.424%2014.2356%2011.176%2013.7007%2010.72C14.523%209.98403%2014.994%208.88003%2014.8982%207.68003C14.8424%207.03203%2014.6188%206.44003%2014.2835%205.93603C14.5869%205.78403%2014.9382%205.68803%2015.2974%205.65603C16.8622%205.52003%2018.2594%206.68803%2018.3951%208.27203Z'%20fill='%23FCCE05'/%3e%3cpath%20d='M19.9912%2015.672C19.9273%2016.448%2019.4323%2017.12%2018.602%2017.576C17.8037%2018.016%2016.7977%2018.224%2015.7998%2018.2C16.3746%2017.68%2016.7099%2017.032%2016.7738%2016.344C16.8536%2015.352%2016.3826%2014.4%2015.4405%2013.64C14.9056%2013.216%2014.2829%2012.88%2013.6042%2012.632C15.3686%2012.12%2017.5881%2012.464%2018.9533%2013.568C19.6878%2014.16%2020.0631%2014.904%2019.9912%2015.672Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href;case"colonists":return new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.91%2010.72H14.82V3.52002C14.82%201.84002%2013.91%201.50002%2012.8%202.76002L12%203.67002L5.23001%2011.37C4.30001%2012.42%204.69001%2013.28%206.09001%2013.28H9.18001V20.48C9.18001%2022.16%2010.09%2022.5%2011.2%2021.24L12%2020.33L18.77%2012.63C19.7%2011.58%2019.31%2010.72%2017.91%2010.72Z'%20fill='%23FCCE05'/%3e%3c/svg%3e",import.meta.url).href;default:return""}}function i(C){switch(C){case"infrastructure":return"#BEB8FA";case"production":return"#E6A47B";case"logistics":return"#8FD8C7";case"research":return"#D6ADDD";default:return"transparent"}}const l=Ee("infrastructure"),a=[{id:"infrastructure",label:"Инфраструктура"},{id:"production",label:"Добыча"},{id:"logistics",label:"Логистика"},{id:"research",label:"Исследования"}],f=j(()=>l.value==="all"?Ht:Ht.filter(C=>C.category===l.value));function u(C){return C.id==="drop-module"?o.value:!o.value}function c(C){return C.id==="drop-module"?"Можно построить только один дроп-модуль":"Сначала постройте Дроп-модуль"}function g(C,m){const w=C.currentTarget.getBoundingClientRect();n.show(w.left+w.width/2,w.bottom-w.height*5,xt(qi,{building:m}),!1)}function h(){n.hide()}return(C,m)=>(k(),T("div",Yi,[M("div",Xi,[(k(),T(le,null,Ge(a,w=>M("div",{class:Re(["tab_title",{active:l.value===w.id}]),key:w.id,onClick:E=>l.value=w.id},z(w.label),11,Gi)),64))]),M("div",Qi,[m[2]||(m[2]=M("div",{class:"tabs"},null,-1)),(k(!0),T(le,null,Ge(f.value,w=>(k(),T("div",{class:Re(["building_item",{selected:ue(t).selectedBuildingId===w.id,disabled:u(w)}]),key:w.id,onClick:()=>!u(w)&&ue(t).select(w.id),title:u(w)?c(w):w.name,onMouseenter:E=>g(E,w),onMouseleave:h},[M("div",{class:"img-wrapper",style:Ze({backgroundColor:i(w.category)})},[M("img",{class:"resource-image",src:w.icon,alt:w.name},null,8,el),w.cost&&w.cost.length?(k(),T("div",tl,[(k(!0),T(le,null,Ge(w.cost,E=>(k(),T("div",{class:"cost-item",key:E.resource},[M("img",{src:r(E.resource),class:"cost-icon"},null,8,sl),M("span",nl,z(E.amount),1)]))),128))])):ne("",!0)],4),Le(" "+z(w.name),1)],42,Ji))),128)),ue(t).active?(k(),T("button",{key:0,class:"cancel",onClick:m[0]||(m[0]=w=>ue(t).cancel())},"Отменить (Esc)")):ne("",!0),ue(t).active?(k(),T("button",{key:1,class:"rotate",onClick:m[1]||(m[1]=w=>ue(t).rotate())},"Повернуть (R)")):ne("",!0)])]))}},rl=Ae(ol,[["__scopeId","data-v-476f9a3b"]]),il={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 25",fill:"none"},ll={key:1,width:"24",height:"24",fill:"none",stroke:"white","stroke-width":"2",viewBox:"0 0 24 24"},cl={__name:"BuildPanelToggleButton",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e){return(t,s)=>(k(),T("button",{class:Re(["build-fab",{active:e.modelValue}]),onClick:s[0]||(s[0]=n=>t.$emit("update:modelValue",!e.modelValue)),title:"Строительство"},[e.modelValue?(k(),T("svg",ll,s[2]||(s[2]=[M("line",{x1:"5",y1:"5",x2:"19",y2:"19"},null,-1),M("line",{x1:"19",y1:"5",x2:"5",y2:"19"},null,-1)]))):(k(),T("svg",il,s[1]||(s[1]=[M("path",{d:"M20.21 8.31994L12.51 12.7799C12.2 12.9599 11.81 12.9599 11.49 12.7799L3.78997 8.31994C3.23997 7.99994 3.09997 7.24994 3.51997 6.77994C3.80997 6.44994 4.13997 6.17994 4.48997 5.98994L9.90997 2.98994C11.07 2.33994 12.95 2.33994 14.11 2.98994L19.53 5.98994C19.88 6.17994 20.21 6.45994 20.5 6.77994C20.9 7.24994 20.76 7.99994 20.21 8.31994Z",fill:"#131316"},null,-1),M("path",{d:"M11.43 14.64V21.46C11.43 22.22 10.66 22.72 9.97998 22.39C7.91998 21.38 4.44998 19.49 4.44998 19.49C3.22998 18.8 2.22998 17.06 2.22998 15.63V10.47C2.22998 9.68 3.05998 9.18 3.73998 9.57L10.93 13.74C11.23 13.93 11.43 14.27 11.43 14.64Z",fill:"#131316"},null,-1),M("path",{d:"M12.5701 14.64V21.46C12.5701 22.22 13.3401 22.72 14.0201 22.39C16.0801 21.38 19.5501 19.49 19.5501 19.49C20.7701 18.8 21.7701 17.06 21.7701 15.63V10.47C21.7701 9.68 20.9401 9.18 20.2601 9.57L13.0701 13.74C12.7701 13.93 12.5701 14.27 12.5701 14.64Z",fill:"#131316"},null,-1)])))],2))}},ul=Ae(cl,[["__scopeId","data-v-5e78b499"]]),al={class:"game-container"},fl={__name:"GameView",setup(e){const t=St(),s=c1(),n=Ee(!1);return It(()=>{t.initializeMap(),t.generateInitialResources(),s.startLoop()}),(o,r)=>(k(),T("div",al,[he(G1),he(Ti),he(ul,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value=i)},null,8,["modelValue"]),n.value?(k(),t0(rl,{key:0})):ne("",!0)]))}},dl=Ae(fl,[["__scopeId","data-v-9ab5a18d"]]),hl={__name:"Tooltip",props:{visible:Boolean,x:Number,y:Number,component:Object},setup(e){const t=e,s=j(()=>({position:"fixed",top:t.y+"px",left:t.x+"px",background:"rgba(88,88,88,1)",color:"var(--text-white)",padding:"8px",borderRadius:"var(--border-radius-s)",pointerEvents:"auto",zIndex:2001,fontSize:"12px",transform:"translateX(-50%)",maxWidth:"320px",wordBreak:"break-word",boxSizing:"border-box"}));return(n,o)=>e.visible?(k(),T("div",{key:0,class:"tooltip",style:Ze(s.value)},[(k(),t0(Oo(e.component)))],4)):ne("",!0)}},pl={__name:"App",setup(e){const t=i0(),s=I0();function n(o){s.active&&((o.key==="r"||o.key==="R"||o.key==="к"||o.key==="К")&&s.rotateClockwise(),o.key==="Escape"&&s.cancel())}return It(()=>{window.addEventListener("keydown",n)}),o0(()=>{window.removeEventListener("keydown",n)}),(o,r)=>(k(),T(le,null,[he(dl),he(hl,{x:ue(t).x,y:ue(t).y,visible:ue(t).visible,component:ue(t).component},null,8,["x","y","visible","component"])],64))}},gl={beforeMount(e,t){e.__clickOutsideHandler__=s=>{e===s.target||e.contains(s.target)||t.value(s)},document.body.addEventListener("mousedown",e.__clickOutsideHandler__),document.body.addEventListener("touchstart",e.__clickOutsideHandler__)},unmounted(e){document.body.removeEventListener("mousedown",e.__clickOutsideHandler__),document.body.removeEventListener("touchstart",e.__clickOutsideHandler__),e.__clickOutsideHandler__=null}},E2=Jr(pl);E2.directive("click-outside",gl);E2.use(s1());E2.mount("#app");export{le as F,Ae as _,St as a,we as b,j as c,T as d,M as e,ne as f,Le as g,Re as h,Ze as n,k as o,Ge as r,z as t,i0 as u};
